{"version":3,"file":"games-engine.js","mappings":"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AAd,EAAc,KAAd,EAAc,WqDKiB,W,eCoD3E,O,SpFrDkG,EAAvC,GAAiB,MA6DwvB,GA7DvuB,M,EoFqDvE,GAAtB,E,qBAtEiF,Y,gBAGS,MC0T9C,iB,ED1T8C,IC0TnC,gB,qBDpTuC,mC,gBAGV,kC,gBAGG,kC,gBAGN,kC,gBAGM,kC,gBAGG,kC,gBAGD,qB,gBAGC,kC,gBAGQ,yB,gBAGS,mBCyOhE,G,EDzOgE,ICyOhC,iBAAhB,EAAE,Q,qBDtO2C,mBCyOhE,G,EDzOgE,ECyOhD,cAAsC,cAAhB,EAAE,Q,qBDtOsB,gBCoO9D,GDpO8D,ECoO9C,U,gBDjOkD,gBCkOjE,GDlOiE,ECkOjD,W,gBD/N2C,gBCiO7D,GDjO6D,ECiO7C,W,gBD9N2C,mBCiO1D,G,EDjO0D,ICiO1B,cAAhB,EAAE,Q,qBD9NkD,gBC4NnE,GD5NmE,EC4NnD,a,gBDzNsD,gBC0NrE,GD1NqE,EC0NrD,a,4BvDpR7B,OsDClB,mBAA8D,MAAM,I,MtDI3E,OsDDU,mBAAiE,SAAS,IAGzE,e,MtDEmF,QsDCnF,mBAAmE,UAAU,I,MtDIvD,OsDDzB,mBAA+D,OAAO,I,MtDK7D,OsDFR,mBAAgE,QAAQ,I,MtDM9D,OsDHZ,mBAA8D,MAAM,I,MtDQ7D,OsDLL,mBAAgE,QAAQ,I,MtDWrF,OsDRc,mBAAiE,SAAS,I,MtDWE,MsDR7E,mBAAkE,QAAQ,I,MtDQmJ,OsDL5N,mBAAiE,SAAS,I,MtDKsS,MsDF7W,mBAAmE,YAAY,I,MtDEgc,MsDC5gB,mBAAsE,eAAe,I,MtDD4lB,YsDIprB,mBAAyE,YAAY,I,MtDJiwB,UsDOt1B,mBAAuE,YAAY,I,MtDPq6B,WsDUv/B,mBAAyE,aAAa,I,MtDVmkC,WsDa3pC,mBAAuE,WAAW,I,MtDbuuC,MsDgBxzC,mBAAmE,YAAY,I,MtDhBu4C,asDmBr9C,mBAA2E,aAAa,I,MtDnBuiD,asDsB9nD,mBAA4E,cAAc,G,gBEzDjH,OAAW,MAAY,QAAQ,G,YAQwD,I,SAAT,EAAS,Q,KACvF,E,EAAK,GAAW,EAAS,I,WACzB,E,ExDCY,K,gBAEH,OwDDZ,Q,CAXO,CxDGH,GwDDG,GxDEyC,E,mBw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","sources":["webpack://games-engine/webpack/universalModuleDefinition","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Collections.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/model/CompositeDrawer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/model/CompositeMover.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/GameWord.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/camera/Camera.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/camera/CameraMover.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/colors/colors.kt","webpack://games-engine/../../../../../builtins/Library.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/constants.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Collections.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/dispatcher/ObjectsDispatcher.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/drawers/CircleDrawer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/drawers/ImagesDrawer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/drawers/ObjFrameDrawer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/image/Images.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Maps.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Standard.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Strings.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/index/ObjectsSquareIndex.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/internal/IdSequence.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/model/Obj.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/model/Vector.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/math.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/model/ZeroLengthVector.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/movers/ConstantSpeedMover.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/movers/FollowMover.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/movers/KeyboardArrowsMover.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/render/HtmlCanvas2dRenderer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/shapes/CameraVisualizer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/shapes/IndexGridVisualizer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/shapes/Pointer.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/stat/Metric.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/Main.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/ghosts/GhostsGame.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/balloons/BalloonsGame.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/WigglyWormGame.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/dynamic.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/ghosts/objects/KotlinSign.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/ghosts/objects/Ghost.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/ghosts/objects/PlayerObj.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/bot/WormBot.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/colors/SnakesPalette.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/objects/CirclesBackground.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/objects/Food.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/worms/Worm.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/games/wiggly_worm/worms/WormWithFollowBodyMover.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Iterators.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/MutableCollections.kt","webpack://games-engine/../../../../../runtime/long.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Sequences.kt","webpack://games-engine/../../../../src/main/kotlin/tga/gaming/engine/index/SquareIndex.kt","webpack://games-engine/../../../../../<js-code>","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Arrays.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashSet.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/LinkedHashMap.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sets.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/Sequences.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractMap.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/ArrayList.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashSet.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/internal/progressionUtil.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/random/Random.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/random/XorWowRandom.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Preconditions.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/ranges/PrimitiveRanges.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/ranges/ProgressionIterators.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/ranges/Progressions.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Appendable.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/Char.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/char.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/StringNumberConversions.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/stringsCode.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/string.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Ranges.kt","webpack://games-engine/../../../../../runtime/noPackageHacks.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/util/Tuples.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/runtime/primitiveCompanionObjects.kt","webpack://games-engine/../../../../../runtime/kotlinHacks.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableCollection.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableList.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableMap.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/AbstractMutableSet.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/HashMap.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalHashCodeMap.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/console.kt","webpack://games-engine/../../../../../src/kotlin/numbers_js-ir.kt","webpack://games-engine/../../../../../runtime/bitUtils.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/numbers.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/random/PlatformRandom.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/KClassImpl.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/primitives.kt","webpack://games-engine/../../../../../runtime/typeCheckUtils.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/reflection.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/StringBuilderJs.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/numberConversions.kt","webpack://games-engine/../../../../../src/generated/_DigitChars.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/CharCode.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/text/regex.kt","webpack://games-engine/../../../../../builtins/Char.kt","webpack://games-engine/../../../../../builtins/Enum.kt","webpack://games-engine/../../../../../runtime/arrays.kt","webpack://games-engine/../../../../../runtime/charSequence.kt","webpack://games-engine/../../../../../runtime/numberConversion.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/unsigned/src/kotlin/UShort.kt","webpack://games-engine/../../../../../runtime/collectionsHacks.kt","webpack://games-engine/../../../../../runtime/compareTo.kt","webpack://games-engine/../../../../../runtime/coreRuntime.kt","webpack://games-engine/../../../../../runtime/hacks.kt","webpack://games-engine/../../../../../runtime/longjs.kt","webpack://games-engine/../../../../../runtime/rangeTo.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/reflect/JsClass.kt","webpack://games-engine/../../../../../src/kotlin/exceptions.kt","webpack://games-engine/../../../../../src/kotlin/jsOperators.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractCollection.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractList.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/AbstractSet.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/collections/PrimitiveIterators.kt","webpack://games-engine/../../../../../jsMainSources/core/builtins/src/kotlin/Unit.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/EqualityComparator.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/common/src/generated/_Strings.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/src/kotlin/text/StringBuilder.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/regexp.kt","webpack://games-engine/../../../../../jsMainSources/libraries/stdlib/js/src/kotlin/collections/InternalMap.kt","webpack://games-engine/../../../../../commonMainSources/libraries/stdlib/common/src/kotlin/MathH.kt","webpack://games-engine/../../../../../utilsImpl-js.kt","webpack://games-engine/webpack/bootstrap","webpack://games-engine/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"games-engine\"] = factory();\n\telse\n\t\troot[\"games-engine\"] = factory();\n})(this, () => {\nreturn ",null,"package tga.gaming.engine.model\n\nimport org.w3c.dom.CanvasRenderingContext2D\n\nclass CompositeItemDoNotReferToTheObject : RuntimeException(\"This composite item is not for this object\")\n\n\ninterface CompositeDrawer : Drawable {\n\n    val drawers: MutableList<Drawer>\n    fun add(drawer: Drawer) {\n        if (drawer.obj != this) throw CompositeItemDoNotReferToTheObject()\n        drawers.add(drawer)\n    }\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        drawers.forEach { it.draw(ctx) }\n    }\n}\n\ninterface Drawer : ObjCompanion {\n    fun draw(ctx: CanvasRenderingContext2D)\n}\n\n","package tga.gaming.engine.model\n\ninterface CompositeMover : Moveable {\n\n    val movers: MutableList<Mover>\n    fun add(mover: Mover) {\n        if (mover.obj != this) throw CompositeItemDoNotReferToTheObject()\n        movers.add(mover)\n    }\n\n    override fun move() {\n        movers.forEach { it.move() }\n    }\n\n}\n\ninterface Mover : ObjCompanion {\n    fun move()\n}","package tga.gaming.engine\n\nimport kotlinx.browser.window\nimport org.w3c.dom.HTMLCanvasElement\nimport org.w3c.dom.TouchEvent\nimport org.w3c.dom.events.KeyboardEvent\nimport org.w3c.dom.events.MouseEvent\nimport org.w3c.dom.pointerevents.PointerEvent\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.dispatcher.Dispatcher\nimport tga.gaming.engine.drawers.CircleDrawer\nimport tga.gaming.engine.drawers.ObjFrameDrawer\nimport tga.gaming.engine.drawers.addObjFrameDrawer\nimport tga.gaming.engine.drawers.withCircleDrawer\nimport tga.gaming.engine.model.CompositeDrawer\nimport tga.gaming.engine.model.Vector\nimport tga.gaming.engine.render.GameRenderer\nimport tga.gaming.engine.shapes.CameraVisualizer\nimport tga.gaming.engine.shapes.IndexGrid\nimport tga.gaming.engine.shapes.Pointer\n\nopen class GameWord(\n    val canvas: HTMLCanvasElement,\n    val wordSize: Vector,\n    val dispatcher: Dispatcher,\n    val camera: Camera,\n    val renderer: GameRenderer,\n    var turnDurationMillis: Int = 10\n) {\n\n    private var gameLoopHandler: Int = -1\n\n    private var active: Boolean = false\n\n    open fun startGame() {\n        run()\n    }\n\n\n    fun togglePause() {\n        if (active) pause() else run()\n    }\n\n    fun run() {\n        if (active) return\n        console.log(\"run()\")\n        active = true\n        runEventListeners()\n        dispatcher.beforeRun()\n        gameLoopHandler = window.setInterval(this::gameLoop, turnDurationMillis)\n        window.setTimeout(\n            { this.paint(window.performance.now()) },\n            turnDurationMillis + turnDurationMillis / 2\n        )\n    }\n\n    fun pause() {\n        console.log(\"pause()\")\n        active = false\n        if (gameLoopHandler != -1) window.clearInterval(gameLoopHandler)\n        gameLoopHandler = -1\n        stopEventListeners()\n    }\n\n    private fun runEventListeners() {\n        window.addEventListener(\"touchmove\",   { e -> propagateTouchMove  (e as TouchEvent) }, false)\n        window.addEventListener(\"touchend\",    { e -> propagateTouchEnd   (e as TouchEvent) }, false)\n        window.addEventListener(\"touchstart\",  { e -> propagateTouchStart (e as TouchEvent) }, false)\n        window.addEventListener(\"touchcancel\", { e -> propagateTouchCancel(e as TouchEvent) }, false)\n\n        window.onmousemove  = { me: MouseEvent -> propagateOnMouseMove (me) }\n        window.onmousedown  = { me: MouseEvent -> propagateOnMouseDown (me) }\n        window.onmouseup    = { me: MouseEvent -> propagateOnMouseUp   (me) }\n        window.onmouseenter = { me: MouseEvent -> propagateOnMouseEnter(me) }\n        window.onmouseleave = { me: MouseEvent -> propagateOnMouseLeave(me) }\n\n        window.ongotpointercapture  = { pe: PointerEvent -> propagateOnGotPointerCapture (pe) }\n        window.onlostpointercapture = { pe: PointerEvent -> propagateOnLostPointerCapture(pe) }\n        window.onpointerdown        = { pe: PointerEvent -> propagateOnPointerDown       (pe) }\n        window.onpointermove        = { pe: PointerEvent -> propagateOnPointerMove       (pe) }\n        window.onpointerup          = { pe: PointerEvent -> propagateOnPointerUp         (pe) }\n        window.onpointercancel      = { pe: PointerEvent -> propagateOnPointerCancel     (pe) }\n        window.onpointerover        = { pe: PointerEvent -> propagateOnPointerOver       (pe) }\n        window.onpointerout         = { pe: PointerEvent -> propagateOnPointerOut        (pe) }\n        window.onpointerenter       = { pe: PointerEvent -> propagateOnPointerEnter      (pe) }\n        window.onpointerleave       = { pe: PointerEvent -> propagateOnPointerLeave      (pe) }\n\n        window.onclick    = { me: MouseEvent -> propagateOnClick(me)    }\n        window.ondblclick = { me: MouseEvent -> propagateOnDblClick(me) }\n\n        window.onkeypress  = { ke: KeyboardEvent -> propagateOnKeyPress(ke) }\n        window.onkeydown   = { ke: KeyboardEvent -> propagateOnKeyDown (ke) }\n        window.onkeyup     = { ke: KeyboardEvent -> propagateOnKeyUp   (ke) }\n\n    }\n\n    open fun propagateTouchMove  (e: TouchEvent) { dispatcher.onTouchMove  (e) }\n    open fun propagateTouchEnd   (e: TouchEvent) { dispatcher.onTouchEnd   (e) }\n    open fun propagateTouchStart (e: TouchEvent) { dispatcher.onTouchStart (e) }\n    open fun propagateTouchCancel(e: TouchEvent) { dispatcher.onTouchCancel(e) }\n\n    open fun propagateOnMouseMove (me: MouseEvent) { dispatcher.onMouseMove (me) }\n    open fun propagateOnMouseDown (me: MouseEvent) { dispatcher.onMouseDown (me) }\n    open fun propagateOnMouseUp   (me: MouseEvent) { dispatcher.onMouseUp   (me) }\n    open fun propagateOnMouseEnter(me: MouseEvent) { dispatcher.onMouseEnter(me) }\n    open fun propagateOnMouseLeave(me: MouseEvent) { dispatcher.onMouseLeave(me) }\n\n    open fun propagateOnGotPointerCapture (pe: PointerEvent){ dispatcher.onGotPointerCapture (pe) }\n    open fun propagateOnLostPointerCapture(pe: PointerEvent){ dispatcher.onLostPointerCapture(pe) }\n    open fun propagateOnPointerDown       (pe: PointerEvent){ dispatcher.onPointerDown       (pe) }\n    open fun propagateOnPointerMove       (pe: PointerEvent){ dispatcher.onPointerMove       (pe) }\n    open fun propagateOnPointerUp         (pe: PointerEvent){ dispatcher.onPointerUp         (pe) }\n    open fun propagateOnPointerCancel     (pe: PointerEvent){ dispatcher.onPointerCancel     (pe) }\n    open fun propagateOnPointerOver       (pe: PointerEvent){ dispatcher.onPointerOver       (pe) }\n    open fun propagateOnPointerOut        (pe: PointerEvent){ dispatcher.onPointerOut        (pe) }\n    open fun propagateOnPointerEnter      (pe: PointerEvent){ dispatcher.onPointerEnter      (pe) }\n    open fun propagateOnPointerLeave      (pe: PointerEvent){ dispatcher.onPointerLeave      (pe) }\n\n    open fun propagateOnClick   (me: MouseEvent) { dispatcher.onClick   (me) }\n    open fun propagateOnDblClick(me: MouseEvent) { dispatcher.onDblClick(me) }\n\n    open fun propagateOnKeyDown  (ke: KeyboardEvent) { dispatcher.onKeyDown  (ke) }\n    open fun propagateOnKeyUp    (ke: KeyboardEvent) { dispatcher.onKeyUp    (ke) }\n    open fun propagateOnKeyPress (ke: KeyboardEvent) {\n        handleCommonKeys(ke)\n        dispatcher.onKeyPress (ke)\n    }\n\n    open fun handleCommonKeys(keyboardEvent: KeyboardEvent) {\n        //console.log(keyboardEvent)\n        when(keyboardEvent.key) {\n            \"+\", \"=\" -> camera.changeScaleTo(camera.xScale + 0.1)\n            \"-\", \"_\" -> camera.changeScaleTo(camera.xScale - 0.1)\n            \"0\" -> camera.resetScale()\n            \"9\" -> camera.reset()\n        }\n\n        when (keyboardEvent.code) {\n            \"KeyR\" -> togglePause()\n            \"KeyP\" -> togglePause()\n            \"KeyH\" -> toggleDebugUI()\n            \"KeyG\" -> toggleGrid()\n        }\n    }\n\n    private fun toggleGrid() {\n        for (o in dispatcher.objects) {\n            if (o is IndexGrid) {\n                dispatcher.delObj(o)\n                return\n            }\n        }\n\n        dispatcher.addObj( IndexGrid(\"gray\", \"white\", camera) )\n    }\n\n    open val isDebugUiAllowed = false\n    var isDebugUiEnabled: Boolean = false; private set\n    private fun toggleDebugUI() {\n        if (!isDebugUiAllowed) return\n        if (isDebugUiEnabled) {\n            isDebugUiEnabled = false\n            debugUiOff()\n        } else {\n            isDebugUiEnabled = true\n            debugUiOn()\n        }\n    }\n\n    open fun debugUiOn() {\n        println(\"debugUiOn()\")\n        renderer.isDebugUiEnabled = true\n\n        var hasCameraVisualizer = false\n        // adding of ObjFrameDrawer to all objects\n        for (o in dispatcher.objects) {\n            if (o is CompositeDrawer) o.addObjFrameDrawer(\"gray\")\n            if (o is Pointer) o.withCircleDrawer(5)\n\n            if (!hasCameraVisualizer) hasCameraVisualizer = o is CameraVisualizer\n        }\n\n        if (!hasCameraVisualizer) dispatcher.addObj(CameraVisualizer(camera))\n\n    }\n\n    open fun debugUiOff() {\n        println(\"debugUiOff()\")\n        renderer.isDebugUiEnabled = false\n\n        for (o in dispatcher.objects) {\n            if (o is CompositeDrawer) {\n                val dit = o.drawers.iterator()\n                for (d in dit) if (d is ObjFrameDrawer) dit.remove()\n            }\n            if (o is CameraVisualizer) dispatcher.delObj(o)\n\n            if (o is Pointer) {\n                val dit = o.drawers.iterator()\n                for (d in dit) if (d is CircleDrawer) dit.remove()\n            }\n\n        }\n\n\n    }\n\n    private fun stopEventListeners() {\n        //TODO(\"Not yet implemented\")\n    }\n\n    private var turnsCounter: Long = 0\n    open fun gameLoop() {\n        if (!active) return\n\n        turnsCounter++\n        //val startedAtMillis = window.performance.now()\n\n        turn()\n\n        //val finishedAtMillis = window.performance.now()\n        //var nextRunIn = turnDurationMillis - (finishedAtMillis - startedAtMillis).toInt()\n        //if (nextRunIn < 0) nextRunIn = 0\n\n        //window.setTimeout(this::gameLoop, nextRunIn)\n    }\n\n    open fun turn() {\n        dispatcher.turn()\n    }\n\n    private var framesCounter: Long = 0\n    open fun paint(t: Double) {\n        if (!active) return\n\n        framesCounter++\n        renderer.paint()\n\n        window.requestAnimationFrame( this::paint )\n    }\n\n    fun finishGame() {\n        pause()\n        dispatcher.finishGame()\n    }\n\n}\n","package tga.gaming.engine.camera\n\nimport tga.gaming.engine.model.Frame\nimport tga.gaming.engine.model.Obj\nimport tga.gaming.engine.model.Vector\nimport tga.gaming.engine.model.v\n\n\nclass Camera(\n    val visibleWordFrame: Frame,\n    val screenFrame: Frame,\n    val wordSize: Vector,\n    val percentageOfActiveArea: Double = 0.6\n) {\n\n    var xScale = screenFrame.width / visibleWordFrame.width\n    var yScale = screenFrame.height / visibleWordFrame.height\n    val activeWordZone: Frame = visibleWordFrame.shrink(percentageOfActiveArea)\n\n    private val initialVisibleWordFrame = visibleWordFrame.copy()\n    private val initialActiveWordZone = activeWordZone.copy()\n    private val initialScale = xScale\n\n    fun isInVisibleArea(obj: Obj): Boolean {\n        return obj.frame?.let{ visibleWordFrame.hasIntersection(it + obj.p) } ?: false\n    }\n\n    fun isInVisibleArea(p: Vector, radius: Double): Boolean {\n        return visibleWordFrame.hasIntersection(p, radius)\n    }\n\n    fun arrangePositionTo(obj: Obj) {\n        val p = obj.p\n\n        if (p.x < activeWordZone.p0.x && visibleWordFrame.p0.x > 0) {\n            var dx = p.x - activeWordZone.p0.x\n            if ( (visibleWordFrame.p0.x+dx) < 0 ) dx = -visibleWordFrame.p0.x \n            moveHorizontally(dx)\n        } else if (p.x > activeWordZone.p1.x && activeWordZone.p1.x < wordSize.x) {\n            var dx = p.x - activeWordZone.p1.x\n            if ( (visibleWordFrame.p1.x+dx) > wordSize.x ) dx = wordSize.x - visibleWordFrame.p1.x \n            moveHorizontally(dx)\n        }\n\n        if (p.y < activeWordZone.p0.y && visibleWordFrame.p0.y > 0) {\n            var dy = p.y - activeWordZone.p0.y\n            if ( (visibleWordFrame.p0.y+dy) < 0 ) dy = -visibleWordFrame.p0.y\n            moveVertically(dy)\n        } else if (p.y > activeWordZone.p1.y && activeWordZone.p1.y < wordSize.y) {\n            var dy = p.y - activeWordZone.p1.y\n            if ( (visibleWordFrame.p1.y+dy) > wordSize.y ) dy = wordSize.y - visibleWordFrame.p1.y\n            moveVertically(dy)\n        }\n\n\n    }\n\n    private fun moveHorizontally(dx: Double) {\n        visibleWordFrame.p0.x += dx\n        visibleWordFrame.p1.x += dx\n        activeWordZone.p0.x += dx\n        activeWordZone.p1.x += dx\n    }\n\n    private fun moveVertically(dy: Double) {\n        visibleWordFrame.p0.y += dy\n        visibleWordFrame.p1.y += dy\n        activeWordZone.p0.y += dy\n        activeWordZone.p1.y += dy\n    }\n\n    override fun toString(): String {\n        return \"Camera(visibleWordFrame=$visibleWordFrame, screenFrame=$screenFrame, wordSize=$wordSize, xScale=$xScale, yScale=$yScale, activeWordZone=$activeWordZone)\"\n    }\n\n    fun changeScaleTo(newScale: Double) {\n        xScale = newScale; yScale = newScale\n\n        val centerOfVisibleWord = visibleWordFrame.center()\n        val halfOfDesiredWidth  = (screenFrame.width  / newScale) / 2\n        val halfOfDesiredHeight = (screenFrame.height / newScale) / 2\n        val diagonalVector = v(halfOfDesiredWidth, halfOfDesiredHeight)\n\n        visibleWordFrame.p0.set( centerOfVisibleWord - diagonalVector )\n        visibleWordFrame.p1.set( centerOfVisibleWord + diagonalVector )\n\n        activeWordZone.set(visibleWordFrame.shrink(percentageOfActiveArea))\n    }\n\n    fun resetScale() {\n        changeScaleTo(initialScale)\n    }\n\n    fun reset() {\n        visibleWordFrame.set(initialVisibleWordFrame)\n        activeWordZone.set(initialActiveWordZone)\n        xScale = screenFrame.width / visibleWordFrame.width\n        yScale = screenFrame.height / visibleWordFrame.height\n    }\n\n\n}","package tga.gaming.engine.camera\n\nimport tga.gaming.engine.model.CompositeMover\nimport tga.gaming.engine.model.Mover\nimport tga.gaming.engine.model.Obj\n\nfun CompositeMover.addCameraMover(camera: Camera): CameraMover {\n    val mover = CameraMover(this as Obj, camera)\n    this.movers.add(mover)\n    return mover\n}\n\ninline fun <reified T: CompositeMover> T.withCameraMover(camera: Camera): T {\n    val mover = CameraMover(this as Obj, camera)\n    this.movers.add(mover)\n    return this\n}\n\n\nclass CameraMover(\n    override val obj: Obj,\n    private val camera: Camera\n) : Mover {\n\n    override fun move() {\n        camera.arrangePositionTo(obj)\n    }\n\n}","package tga.gaming.engine.colors\n\ndata class Clr(val r: Int, val g: Int, val b: Int, val o: Int = 255){\n    fun toHexColorString(): String {\n        return \"#\" +\n                r.toString(16).padStart(2,'0') +\n                g.toString(16).padStart(2,'0') +\n                b.toString(16).padStart(2,'0') +\n                o.toString(16).padStart(2,'0')\n    }\n}\n\nfun linearGradient(c0: Clr, c1: Clr, n: Int): Array<String> {\n\n    val r0 = c0.r.toDouble()\n    val g0 = c0.g.toDouble()\n    val b0 = c0.b.toDouble()\n    val o0 = c0.o.toDouble()\n\n    val r1 = c1.r.toDouble()\n    val g1 = c1.g.toDouble()\n    val b1 = c1.b.toDouble()\n    val o1 = c1.o.toDouble()\n\n    val rDelta = r1 - r0\n    val gDelta = g1 - g0\n    val bDelta = b1 - b0\n    val oDelta = o1 - o0\n\n    val rStep = rDelta / n\n    val gStep = gDelta / n\n    val bStep = bDelta / n\n    val oStep = oDelta / n\n\n    val colors = Array(n+1) {i ->\n        when (i) {\n            0 -> c0.toHexColorString()\n            n -> c1.toHexColorString()\n            else -> Clr(\n                (r0 + rStep * i).toInt(),\n                (g0 + gStep * i).toInt(),\n                (b0 + bStep * i).toInt(),\n                (o0 + oStep * i).toInt(),\n            ).toHexColorString()\n        }\n\n    }\n    return colors\n}\n\nfun multiLinearGradient(c0: Clr, vararg points: Pair<Int, Clr>): Array<String> {\n    val colors = ArrayList<String>()\n    var prevEndColor = c0\n    for( (n, endColor) in points ) {\n        val startColor = prevEndColor\n        prevEndColor = endColor\n\n        val part = linearGradient(startColor, endColor, n)\n        for (i in 0 until (part.size-1)) colors.add(part[i])\n    }\n    return colors.toTypedArray()\n}\n",null,null,"package tga.gaming.engine\n\nimport kotlin.math.PI\n\nconst val PI2 = PI * 2\nconst val pi_3 = PI / 3.0\nconst val pi2_3 = 2.0 * (PI / 3.0)\nconst val pi4_3 = 4.0 * (PI / 3.0)\nconst val pi5_3 = 5.0 * (PI / 3.0)\n\nconst val  D30 =  PI / 6\nconst val mD30 = -PI / 6",null,"package tga.gaming.engine.dispatcher\n\nimport org.w3c.dom.TouchEvent\nimport org.w3c.dom.events.KeyboardEvent\nimport org.w3c.dom.events.MouseEvent\nimport org.w3c.dom.pointerevents.PointerEvent\nimport tga.gaming.engine.index.SquareIndex\nimport tga.gaming.engine.model.Actionable\nimport tga.gaming.engine.model.Moveable\nimport tga.gaming.engine.model.Obj\n\ninterface Dispatcher : GameTurner, GameObjects, EventsListener\n\nopen class ObjectsDispatcher(\n    override val index: SquareIndex\n) : Dispatcher {\n    override val objects: MutableSet<Obj> = HashSet()\n\n    override fun turn() {\n        doMove()\n        update2dIndex()\n        doAct()\n        removeDeletedObjects()\n        addNewObjects()\n\n        movedObjects.clear()\n        objectToAdd.clear()\n        objectToDel.clear()\n    }\n\n    private val movedObjects = ArrayList<Obj>()\n    private fun doMove() {\n        objects.forEach {\n            if (it is Moveable) {\n                val oldPosition = it.p.copy()\n                it.move()\n                if (it.p != oldPosition) movedObjects += it\n            }\n        }\n\n    }\n\n    private fun update2dIndex() {\n        if (movedObjects.isNotEmpty()) index.update(movedObjects)\n    }\n\n    private fun doAct() {\n        objects.forEach {\n            if (it is Actionable) it.act()\n        }\n    }\n\n    private fun removeDeletedObjects() {\n        if (objectToDel.isNotEmpty()) {\n            objects.removeAll(objectToDel)\n            index.remove(objectToDel)\n        }\n    }\n\n    private fun addNewObjects() {\n        if (objectToAdd.isNotEmpty()) {\n            objects.addAll(objectToAdd)\n            objectToAdd.forEach { it.dispatcher = this }\n            index.update(objectToAdd)\n        }\n    }\n\n    private val objectToAdd = ArrayList<Obj>()\n    override fun <T: Obj> addObj(obj: T): T {\n        objectToAdd.add(obj)\n        return obj\n    }\n\n    private val objectToDel = HashSet<Obj>()\n    override fun <T: Obj> delObj(obj: T): T {\n        objectToDel.add(obj)\n        return obj\n    }\n\n    override fun <T : Obj> addObjs(vararg objs: T) = objs.forEach(this::addObj)\n\n    override fun beforeRun() {\n        addNewObjects()\n        objectToAdd.clear()\n    }\n\n    override fun finishGame() {\n        objects.clear()\n        index.reset()\n    }\n\n    override fun onTouchMove  (te: TouchEvent){ objects.forEach { if (it is EventsListener) it.onTouchMove  (te) } }\n    override fun onTouchEnd   (te: TouchEvent){ objects.forEach { if (it is EventsListener) it.onTouchEnd   (te) } }\n    override fun onTouchStart (te: TouchEvent){ objects.forEach { if (it is EventsListener) it.onTouchStart (te) } }\n    override fun onTouchCancel(te: TouchEvent){ objects.forEach { if (it is EventsListener) it.onTouchCancel(te) } }\n\n\n    override fun onMouseMove (me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onMouseMove (me) } }\n    override fun onMouseDown (me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onMouseDown (me) } }\n    override fun onMouseUp   (me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onMouseUp   (me) } }\n    override fun onMouseEnter(me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onMouseEnter(me) } }\n    override fun onMouseLeave(me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onMouseLeave(me) } }\n\n    override fun onGotPointerCapture (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onGotPointerCapture(pe) } }\n    override fun onLostPointerCapture(pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onLostPointerCapture(pe) } }\n    override fun onPointerDown       (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerDown(pe) } }\n    override fun onPointerMove       (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerMove(pe) } }\n    override fun onPointerUp         (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerUp(pe) } }\n    override fun onPointerCancel     (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerCancel(pe) } }\n    override fun onPointerOver       (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerOver(pe) } }\n    override fun onPointerOut        (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerOut(pe) } }\n    override fun onPointerEnter      (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerEnter(pe) } }\n    override fun onPointerLeave      (pe: PointerEvent){ objects.forEach { if (it is EventsListener) it.onPointerLeave(pe) } }\n\n    override fun onClick   (me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onClick   (me) } }\n    override fun onDblClick(me: MouseEvent){ objects.forEach { if (it is EventsListener) it.onDblClick(me) } }\n\n    override fun onKeyPress(ke: KeyboardEvent) { objects.forEach { if (it is EventsListener) it.onKeyPress(ke) } }\n    override fun onKeyDown (ke: KeyboardEvent) { objects.forEach { if (it is EventsListener) it.onKeyDown (ke) } }\n    override fun onKeyUp   (ke: KeyboardEvent) { objects.forEach { if (it is EventsListener) it.onKeyUp   (ke) } }\n\n\n\n}\n\n\n","package tga.gaming.engine.drawers\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.model.CompositeDrawer\nimport tga.gaming.engine.model.Drawer\nimport tga.gaming.engine.model.Obj\n\nclass CircleDrawer(\n    override val obj: Obj,\n    private val radius: Double,\n    private val strokeStyle: String,\n    private val lineWidth: Double = 1.0,\n    private val fillStyle: String? = null\n) : Drawer {\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        ctx.beginPath()\n        ctx.strokeStyle = strokeStyle\n        ctx.lineWidth = lineWidth\n        ctx.arc(obj.p.x, obj.p.y, radius, 0.0, PI2)\n        fillStyle?.let{\n            ctx.fillStyle = fillStyle\n            ctx.fill()\n        }\n        ctx.stroke()\n    }\n}\n\ninline fun <reified T : CompositeDrawer> T.withCircleDrawer(\n    radius: Double,\n    strokeStyle: String = \"aquamarine\",\n    lineWidth: Double = 1.0,\n    fillStyle: String? = null\n): T {\n    this.drawers.add(CircleDrawer(this as Obj, radius, strokeStyle, lineWidth, fillStyle))\n    return this\n}\n\ninline fun <reified T : CompositeDrawer> T.withCircleDrawer(\n    radius: Int,\n    strokeStyle: String = \"aquamarine\",\n    lineWidth: Double = 1.0,\n    fillStyle: String? = null\n): T {\n    return withCircleDrawer(radius.toDouble(), strokeStyle, lineWidth, fillStyle)\n}\n","package tga.gaming.engine.drawers\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.Image\nimport tga.gaming.engine.model.CompositeDrawer\nimport tga.gaming.engine.model.Drawer\nimport tga.gaming.engine.model.Obj\n\nclass ImagesDrawer(\n    override val obj: Obj,\n    var imageIndex: Int,\n    private val images: List<Image>\n) : Drawer {\n\n    fun nextImage() {\n        imageIndex += 1\n        if (imageIndex == images.size) imageIndex = 0\n    }\n\n    // affine matrix (rotate, movement, scale)\n    // [  a: cos(a)*scale    b: sin(a)*scale    0  ]\n    // [  c:-sin(a)*scale    d: cos(a)*scale    0  ]\n    // [  e: tx              f: ty              1  ]\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        val f = obj.frame ?: return\n        val p = obj.p\n\n        val image = when {\n            imageIndex < 0            -> images.first()\n            imageIndex >= images.size -> images.last()\n            else -> images[imageIndex]\n        }\n\n        ctx.save()\n        ctx.translate(p.x, p.y)\n        if (obj.angle != 0.0 ) ctx.rotate(obj.angle)\n        ctx.drawImage(image, -f.width/2, -f.height/2, f.width, f.height)\n        ctx.restore()\n    }\n\n\n}\n\nfun CompositeDrawer.withImageDrawer(img: Image): ImagesDrawer {\n    return withImagesDrawer(listOf(img))\n}\n\nfun CompositeDrawer.withImagesDrawer(images: List<Image>, imageIndex: Int = 0): ImagesDrawer {\n    val imagesDrawer = ImagesDrawer(\n        obj = this as Obj,\n        imageIndex = imageIndex,\n        images = images\n    )\n\n    this.drawers.add(imagesDrawer)\n\n    return imagesDrawer\n}\n","package tga.gaming.engine.drawers\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.model.CompositeDrawer\nimport tga.gaming.engine.model.Drawer\nimport tga.gaming.engine.model.Obj\nimport kotlin.math.cos\nimport kotlin.math.sin\n\n\ninline fun <reified T: CompositeDrawer> T.withObjFrameDrawer(strokeStyle: String = \"aquamarine\"): T {\n    this.drawers.add(ObjFrameDrawer(this as Obj, strokeStyle))\n    return this\n}\n\nfun CompositeDrawer.addObjFrameDrawer(strokeStyle: String = \"aquamarine\") {\n    this.drawers.add(ObjFrameDrawer(this as Obj, strokeStyle))\n}\n\n\nclass ObjFrameDrawer(\n    override val obj: Obj,\n    private val strokeStyle: String\n) : Drawer {\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        val f = obj.frame ?: return\n        val p = obj.p\n        val p0 = f.p0\n        val p1 = f.p1\n\n        ctx.save()\n        //ctx.setTransform(1.0, 0.0, 0.0, 1.0, 0.0, 0.0)\n        ctx.beginPath()\n        ctx.strokeStyle = strokeStyle\n        ctx.rect(p.x+p0.x, p.y+p0.y, p1.x-p0.x, p1.y-p0.y)\n        ctx.stroke()\n\n        ctx.beginPath()\n        ctx.arc(p.x, p.y, obj.r, 0.0, PI2)\n        ctx.stroke()\n\n        val angleX = cos(obj.angle) * obj.r\n        val angleY = sin(obj.angle) * obj.r\n\n        ctx.beginPath()\n        ctx.moveTo(p.x, p.y)\n        ctx.lineTo(p.x+angleX, p.y+angleY)\n        ctx.stroke()\n\n        ctx.restore()\n    }\n}\n","package tga.gaming.engine.image\n\nimport kotlinx.browser.window\nimport org.w3c.dom.Image\n\nval imagesCache = HashMap<String, Image>()\n\nfun loadImage(path: String): Image {\n    var image: Image? = imagesCache[path]\n    if (image != null) return image\n\n    image = window.document.createElement(\"img\") as Image\n    image.src = path\n\n    imagesCache[path] = image\n    return image\n}\n\nfun loadImages(imgSrcTemplate: String, numberOfImages: Int): List<Image> {\n    return List(numberOfImages) {\n        loadImage(imgSrcTemplate.replaceFirst(Regex(\"<n>\"), \"$it\"))\n    }\n}\n\n",null,null,null,"package tga.gaming.engine.index\n\nimport tga.gaming.engine.model.Frame\nimport tga.gaming.engine.model.Obj\nimport tga.gaming.engine.model.Vector\n\nprivate const val sizeFactor: Int    = 6           // square size == 64\nconst val gridStep  : Int    = (1 shl sizeFactor)  // 64\nconst val gridStepD : Double = gridStep.toDouble() // 64.0\n\nclass ObjectsSquareIndex(\n    wordSize: Vector\n) : SquareIndex {\n\n    override val lines  : Int = (wordSize.y.toInt() shr sizeFactor)+1\n    override val columns: Int = (wordSize.x.toInt() shr sizeFactor)+1\n    override val matrix = Array<Array<MutableSet<Obj>>>(lines){ Array(columns) { HashSet() } }\n\n    override val maxLinesIndex = lines - 1\n    override val maxColumnsIndex = columns - 1\n\n    private val positionsRangeByObj: MutableMap<Obj, PositionsRange2D> = HashMap()\n\n    override fun update(obj: Obj) {\n        val prev: PositionsRange2D? = positionsRangeByObj[obj]\n        val curr: PositionsRange2D? = rangeOf(obj.p, obj.frame)\n\n        if ( prev == curr ) return\n        if ( curr == null) { remove(obj); return }\n\n        prev?.forEachExcept(curr) { it.remove(obj) }\n        curr.forEachExcept(prev) { it.add(obj) }\n\n        positionsRangeByObj[obj] = curr\n    }\n\n    override fun remove(obj: Obj) {\n        val prev: PositionsRange2D? = positionsRangeByObj[obj]\n        prev?.forEach { it.remove(obj) }\n    }\n\n    override fun reset() {\n        PositionsRange2D(0,0, lines-1, columns-1).forEach { cell -> cell.clear() }\n    }\n\n    override fun objectsOnTheSamePlaceWith(obj: Obj): Sequence<Obj> {\n        val positionsRange = positionsRangeByObj[obj] ?: return emptySequence()\n\n        val objects = HashSet<Obj>()\n        positionsRange.forEach {\n            objects.addAll(it)\n        }\n\n        return objects.asSequence().filter { it !== obj }\n    }\n\n    private fun PositionsRange2D.forEachExcept(except: PositionsRange2D?, body: (MutableSet<Obj>) -> Unit) {\n        if (except == null) {\n            this.forEach(body)\n            return\n        }\n\n        for (l in lin0 .. lin1) {\n            val lin = matrix[l]\n            for (c in col0..col1) {\n                if ( !(l in except.lin0..except.lin1 && c in except.col0..except.col1) ) {\n                    body(lin[c])\n                }\n            }\n        }\n\n    }\n\n    private fun PositionsRange2D.forEach(body: (MutableSet<Obj>) -> Unit) {\n        for (l in lin0 .. lin1) {\n            val line = matrix[l]\n            for (c in col0..col1)\n                body(line[c])\n        }\n\n    }\n\n    override fun rangeOf(position: Vector, frame: Frame?): PositionsRange2D? {\n        if (frame == null) return null\n\n        val y0 = (position.y + frame.p0.y)\n        val x0 = (position.x + frame.p0.x)\n        val y1 = (position.y + frame.p1.y)\n        val x1 = (position.x + frame.p1.x)\n\n        return rangeOf(x0, y0, x1, y1)\n    }\n\n    override fun rangeOf(x0: Double, y0: Double, x1: Double, y1: Double): PositionsRange2D? {\n        var l0 = y0.toInt() shr sizeFactor\n        var c0 = x0.toInt() shr sizeFactor\n        var l1 = y1.toInt() shr sizeFactor\n        var c1 = x1.toInt() shr sizeFactor\n\n        if ((l0<0 && l1<0) || (l0>=lines   && l1>=lines  )) return null\n        if ((c0<0 && c1<0) || (c0>=columns && c1>=columns)) return null\n\n        if (l0<0) l0 = 0; if (l0>=lines) l0 = maxLinesIndex\n        if (l1<0) l1 = 0; if (l1>=lines) l1 = maxLinesIndex\n\n        if (c0<0) c0 = 0; if (c0>=columns) c0 = maxColumnsIndex\n        if (c1<0) c1 = 0; if (c1>=columns) c1 = maxColumnsIndex\n\n        return PositionsRange2D(lin0 = l0, col0 = c0, lin1 = l1, col1 = c1 )\n    }\n\n}\n\ndata class PositionsRange2D(\n    val lin0: Int,\n    val col0: Int,\n    val lin1: Int,\n    val col1: Int\n)\n","package tga.gaming.engine.internal\n\nobject IdSequence {\n\n    private var currentId: Long = 0L\n\n    fun next(): Long {\n        return ++currentId\n    }\n}\n","package tga.gaming.engine.model\n\nimport tga.gaming.engine.dispatcher.GameObjects\nimport tga.gaming.engine.internal.IdSequence\nimport kotlin.math.cos\nimport kotlin.math.sin\n\nopen class Obj(\n    open val p: Vector = Vector(),\n    open var scale: Double = 1.0,\n    r: Double = 10.0,\n    open val frame: Frame? = Frame( v(-r,-r), v(r,r)),\n) {\n    val id: Long = IdSequence.next()\n    open val isAlwaysVisible = false\n\n    open var r: Double = r\n        set(value) {\n            field = value\n            r2Cache = null\n        }\n\n\n    private var _angle: Double? = null\n    private var _direction: Vector = v(1, 0)\n\n    var angle: Double\n        get() {\n            if (_angle == null) _angle = _direction.angle()\n            return _angle!!\n        }\n        set(a) {\n            _angle = a\n            _direction.set(cos(a), sin(a))\n        }\n\n\n    val direction: Vector get() = _direction\n    fun setDirectionToTarget(target: Vector) {\n        if (target == p) {\n            _direction.set(1.0, 0.0)\n            _angle = 0.0\n        } else {\n            _direction = (target-p).normalizeThis()\n            _angle = null\n        }\n    }\n\n\n    protected var r2Cache: Double? = null\n    open val r2: Double\n        get() {\n            return r2Cache ?: ( (r * r).also{r2Cache = it} )\n        }\n\n\n    lateinit var dispatcher: GameObjects\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (other !is Obj) return false\n        if (id != other.id) return false\n        return true\n    }\n\n    override fun hashCode(): Int {\n        return id.hashCode()\n    }\n\n}\n\n","package tga.gaming.engine.model\n\nimport tga.gaming.engine.PI2\nimport kotlin.math.*\nimport kotlin.random.Random.Default.nextDouble\n\n\ndata class Vector(\n    var x: Double = 0.0,\n    var y: Double = 0.0\n) {\n    private var cachedLen  :Double? = null // length\n    private var cachedLen2 :Double? = null // length * length\n    var isNorm: Boolean = false // == true after calling the norm() or normThis() methods\n\n    var len: Double\n        get() {\n            if (cachedLen == null) calculateLength()\n            return cachedLen!!\n        }\n        set(value) {\n            assignLength(value)\n        }\n\n    val len2: Double\n        get() {\n            if (cachedLen2 == null) calculateLength2()\n            return cachedLen2!!\n        }\n\n    operator fun plusAssign(n: Int   ) { x+=n;   y+=n  ; cachedLen=null; cachedLen2=null; isNorm=false }\n    operator fun plusAssign(n: Double) { x+=n;   y+=n  ; cachedLen=null; cachedLen2=null; isNorm=false }\n    operator fun plusAssign(v: Vector) { x+=v.x; y+=v.y; cachedLen=null; cachedLen2=null; isNorm=false }\n\n    operator fun minusAssign(n: Int   ) { x-=n;   y-=n  ; cachedLen=null; cachedLen2 = null; isNorm=false }\n    operator fun minusAssign(n: Double) { x-=n;   y-=n  ; cachedLen=null; cachedLen2 = null; isNorm=false }\n    operator fun minusAssign(v: Vector) { x-=v.x; y-=v.y; cachedLen=null; cachedLen2 = null; isNorm=false }\n\n    operator fun timesAssign(n: Int)    { x*=n;   y*=n  ; cachedLen=null; cachedLen2 = null; isNorm=false }\n    operator fun timesAssign(n: Double) { x*=n;   y*=n  ; cachedLen=null; cachedLen2 = null; isNorm=false }\n\n    operator fun plus(n: Int   ) = Vector(x+n,   y+n)\n    operator fun plus(n: Double) = Vector(x+n,   y+n)\n    operator fun plus(v: Vector) = Vector(x+v.x, y+v.y)\n\n    operator fun minus(n: Int   ) = Vector(x-n,   y-n)\n    operator fun minus(n: Double) = Vector(x-n,   y-n)\n    operator fun minus(v: Vector) = Vector(x-v.x, y-v.y)\n\n    operator fun times(n: Int   ) = Vector(x*n,   y*n)\n    operator fun times(n: Double) = Vector(x*n,   y*n)\n    operator fun times(v: Vector) = Vector(x*v.x, y*v.y)\n\n    operator fun div(n: Int   ) = Vector(x/n, y/n)\n    operator fun div(n: Double) = Vector(x/n, y/n)\n\n    fun set(x: Double, y: Double) { this.x=  x; this.y =   y; cachedLen = null;        cachedLen2 = null;         isNorm=false    }\n    fun set(v: Vector           ) { this.x=v.x; this.y = v.y; cachedLen = v.cachedLen; cachedLen2 = v.cachedLen2; isNorm=v.isNorm }\n\n    /**\n     * restore angle by vector v, only for len(v) = 1\n     */\n    fun angle(): Double {\n        return when {\n            (x == 0.0) -> if (y > 0) angle_90 else angle_270\n            (y == 0.0) -> if (x > 0) angle_0  else angle_180\n            (y > 0) -> acos(x)\n            else -> angle_180 + acos(-x)\n        }\n    }\n\n    fun assignLength(desiredLength: Double): Vector {\n        when {\n            (x == 0.0) -> y = (if (y >= 0) desiredLength else -desiredLength)\n            (y == 0.0) -> x = (if (x >= 0) desiredLength else -desiredLength)\n            else -> {\n                val k = desiredLength / len\n                x *= k\n                y *= k\n            }\n        }\n        cachedLen = desiredLength\n        cachedLen2 = null\n        return this\n    }\n\n\n    private fun calculateLength() {\n        cachedLen = when {\n            (x == 0.0) -> y\n            (y == 0.0) -> x\n            else -> sqrt( len2 )\n        }\n    }\n\n    private fun calculateLength2() {\n        cachedLen2 = y*y + x*x\n    }\n\n    fun norm(quite: Boolean = false): Vector {\n        return this.copy().normalizeThis(quite)\n    }\n\n    fun normalizeThis(quite: Boolean = false): Vector {\n        if (x == 0.0 && y == 0.0) {\n            if (quite) return this else throw ZeroLengthVector(\"A zero vector cannot be normalized\")\n        }\n        when {\n            (x == 0.0) -> y = if (y > 0) 1.0 else -1.0\n            (y == 0.0) -> x = if (x > 0) 1.0 else -1.0\n            else -> {\n                val l = len\n                x /= l\n                y /= l\n            }\n        }\n        isNorm = true\n        cachedLen = 1.0\n        cachedLen2 = 1.0\n        return this\n    }\n\n    fun setToAngle(angle: Double) {\n        x = cos(angle)\n        y = sin(angle)\n        isNorm = true\n    }\n\n    companion object {\n        const val angle_0  : Double =  0.0\n        const val angle_90 : Double =  PI / 2\n        const val angle_180: Double =  PI\n        const val angle_270: Double =  PI/2 * 3\n\n        fun random1() = randomNormVector()\n    }\n\n}\n\nfun v()                     = Vector()\nfun v(x: Double, y: Double) = Vector(x, y)\nfun v(x: Float,  y: Float)  = Vector(x.toDouble(), y.toDouble())\nfun v(x: Long,   y: Long)   = Vector(x.toDouble(), y.toDouble())\nfun v(x: Int,    y: Int)    = Vector(x.toDouble(), y.toDouble())\nfun v(x: Int,    y: Double) = Vector(x.toDouble(), y)\nfun v(x: Int,    y: Float)  = Vector(x.toDouble(), y.toDouble())\nfun v(x: Int,    y: Long)   = Vector(x.toDouble(), y.toDouble())\nfun v(x: Double, y: Int)    = Vector(x,            y.toDouble())\nfun v(x: Float,  y: Int)    = Vector(x.toDouble(), y.toDouble())\nfun v(x: Long,   y: Int)    = Vector(x.toDouble(), y.toDouble())\nfun normVectorOfAngle(angle: Double):Vector = v(cos(angle), sin(angle)).apply { isNorm = true }\nfun randomNormVector() = normVectorOfAngle(nextDouble(0.0, PI2))\n\nval vUp        = v(0,-1).apply { isNorm = true }\nval vUpRight   = v(1,-1).normalizeThis()\nval vRight     = v(1,0).apply { isNorm = true }\nval vDownRight = v(1,1).normalizeThis()\nval vDown      = v(0,1).apply { isNorm = true }\nval vDownLeft  = v(-1,1).normalizeThis()\nval vLeft      = v(-1,0).apply { isNorm = true }\nval vUpLeft    = v(-1,-1).normalizeThis()\n\ndata class Frame(\n    val p0: Vector,\n    val p1: Vector\n) {\n    val width: Double get() = p1.x - p0.x\n    val height: Double get() = p1.y - p0.y\n    //val center = (p1 - p0) / 2\n\n    fun hasIntersection(another: Frame): Boolean {\n        if (another.p0.x > p1.x || another.p0.y > p1.y) return false\n        if (another.p1.x < p0.x || another.p1.y < p0.y) return false\n        return true\n    }\n\n    fun hasIntersection(p: Vector, radius: Double): Boolean {\n        if ( (p.x-radius) > p1.x || ((p.y-radius) > p1.y) ) return false\n        if ( (p.x+radius) < p0.x || ((p.y+radius) < p0.y) ) return false\n        return true\n    }\n\n    operator fun plus(vector: Vector): Frame {\n        return Frame( p0+vector, p1+ vector )\n    }\n\n    operator fun times(n: Double): Frame {\n        return Frame( p0*n, p1*n )\n    }\n\n    operator fun times(n: Int): Frame {\n        return Frame( p0*n, p1*n )\n    }\n\n    fun set(anotherFrame: Frame) {\n        p0.set(anotherFrame.p0)\n        p1.set(anotherFrame.p1)\n    }\n\n    fun set(anotherP0: Vector, anotherP1: Vector) {\n        p0.set(anotherP0)\n        p1.set(anotherP1)\n    }\n\n    fun shrink(percentage: Double): Frame {\n        val xOffset = (width  - (width  * percentage)) / 2\n        val yOffset = (height - (height * percentage)) / 2\n        val vOffset = v(xOffset, yOffset)\n        return Frame(p0 + vOffset, p1 - vOffset)\n    }\n\n    fun copy(): Frame {\n        return Frame(p0.copy(), p1.copy())\n    }\n\n    fun center(): Vector = p0 + (p1-p0)/2\n\n    companion object {\n        fun square(size: Double): Frame {\n            val r = size/2\n            return Frame( v(-r,-r), v(r,r) )\n        }\n    }\n}\n\nfun Vector.restrictWithFrame(bounds: Frame){\n    if      (x > bounds.p1.x) x = bounds.p1.x\n    else if (x < bounds.p0.x) x = bounds.p0.x\n    if      (y > bounds.p1.y) y = bounds.p1.y\n    else if (y < bounds.p0.y) y = bounds.p0.y\n}\n\nval ZERO_VECTOR = v(0,0)\n",null,"package tga.gaming.engine.model\n\nclass ZeroLengthVector(message: String? = null, cause: Throwable? = null) : RuntimeException(message, cause)\n","package tga.gaming.engine.movers\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.model.*\nimport kotlin.math.PI\n\nfun CompositeMover.addConstantSpeedMover(\n    speed: Double = 1.0,\n    rotationSpeed: Double = PI / 180,\n    bounds: Frame,\n    targetFunction: VectorFunction\n): ConstantSpeedMover {\n    val mover = ConstantSpeedMover(this as Obj, speed, rotationSpeed, bounds, targetFunction)\n    this.movers.add(mover)\n    return mover\n}\n\ninline fun <reified T: CompositeMover> T.withConstantSpeedMover(\n    speed: Double = 1.0,\n    rotationSpeed: Double = PI / 180,\n    bounds: Frame,\n    noinline targetFunction: VectorFunction\n): T {\n    val mover = ConstantSpeedMover(this as Obj, speed, rotationSpeed, bounds, targetFunction)\n    this.movers.add(mover)\n    return this\n}\n\nclass ConstantSpeedMover(\n    override val obj: Obj,\n    private val speed: Double = 1.0,\n    private val rotationSpeed: Double = PI / 180,\n    val bounds: Frame,\n    val targetFunction: VectorFunction\n): Mover {\n\n    var prevTarget: Vector? = null\n\n    private var isRotationComplete: Boolean = true\n    private var desiredDirectionVector = v(1,0)\n    private var speedVector: Vector = desiredDirectionVector * speed\n\n    private var desiredSpeedAngle: Double = 0.0\n    private var turnDirection = \"no\"\n    private var va  = 0.0\n    private var currSpeedAngle = 0.0\n    private var desiredLeftTurn = 0.0\n    private var desiredRightTurn = 0.0\n\n\n    override fun move() {\n        val target = targetFunction()\n        target?.let{ rotateToTarget(it) }\n        obj.p += speedVector\n        obj.p.restrictWithFrame(bounds)\n    }\n\n    private fun rotateToTarget(target: Vector) {\n        if (prevTarget != target) { isRotationComplete = false }\n        if (isRotationComplete) return\n        prevTarget = target.copy()\n        desiredDirectionVector = (target - obj.p).norm()\n\n\n        desiredSpeedAngle = desiredDirectionVector.angle()\n        currSpeedAngle = speedVector.norm().angle()\n\n        if (desiredSpeedAngle < currSpeedAngle) desiredSpeedAngle += PI2\n\n        desiredLeftTurn = desiredSpeedAngle - currSpeedAngle\n        desiredRightTurn = PI2 - desiredLeftTurn\n\n        if (desiredLeftTurn <= desiredRightTurn) {\n            // turn to the left\n            turnDirection = \"left\"\n            if ( desiredLeftTurn <= rotationSpeed )  { speedVector.set(desiredDirectionVector); isRotationComplete = true}\n            else                                     { va = currSpeedAngle + rotationSpeed; speedVector.setToAngle(va) }\n        } else {\n            // turn to the right\n            turnDirection = \"right\"\n            if ( desiredRightTurn <= rotationSpeed ) { speedVector.set(desiredDirectionVector); isRotationComplete = true}\n            else                                     { va = currSpeedAngle - rotationSpeed; speedVector.setToAngle(va) }\n\n        }\n        speedVector.timesAssign(speed)\n    }\n\n    private fun Double.asDegree() = \"${(this / PI2 * 360).toInt()}\"\n\n    fun draw(ctx: CanvasRenderingContext2D) {\n        ctx.setTransform(1.0, 0.0, 0.0, 1.0, 0.0, 0.0)\n        //ctx.translate(obj.p.x, obj.p.y)\n        val aColor = if (isRotationComplete) \"grey\" else \"orange\"\n\n\n        prevTarget?.let{\n            ctx.beginPath()\n            ctx.strokeStyle = \"red\"\n            ctx.arc(it.x, it.y, 7.0, 0.0, PI2)\n            ctx.lineWidth = 1.5\n            ctx.stroke()\n            ctx.fill()\n            ctx.beginPath()\n            ctx.lineWidth = 1.0\n            ctx.strokeText(desiredSpeedAngle.asDegree(), it.x + 10, it.y)\n            ctx.strokeText(turnDirection, it.x + 10, it.y+20)\n            ctx.strokeText(va.asDegree(), it.x + 10, it.y+40)\n\n        }\n\n\n        ctx.beginPath()\n        ctx.moveTo(obj.p.x, obj.p.y)\n        val dV = desiredDirectionVector.norm() * 50\n        ctx.lineTo(obj.p.x + dV.x, obj.p.y + dV.y)\n        ctx.strokeStyle = aColor\n        ctx.fillStyle = aColor\n        ctx.stroke()\n        ctx.beginPath()\n        ctx.arc(obj.p.x, obj.p.y, 3.0, 0.0, PI2)\n        ctx.fill()\n\n        ctx.beginPath()\n        ctx.moveTo(obj.p.x, obj.p.y)\n        val dS = speedVector.norm() * 40\n        ctx.lineTo(obj.p.x + dS.x, obj.p.y + dS.y)\n        ctx.strokeStyle = \"yellow\"\n        ctx.fillStyle = \"yellow\"\n        ctx.stroke()\n        ctx.strokeText(currSpeedAngle.asDegree(), obj.p.x+20, obj.p.y)\n\n        ctx.strokeStyle = \"lightblue\"\n        ctx.strokeText(\"left: ${desiredLeftTurn.asDegree()}\", obj.p.x+20, obj.p.y+25)\n        ctx.strokeText(\"right:${desiredRightTurn.asDegree()}\", obj.p.x+20, obj.p.y+50)\n    }\n}","package tga.gaming.engine.movers\n\nimport tga.gaming.engine.model.CompositeMover\nimport tga.gaming.engine.model.Mover\nimport tga.gaming.engine.model.Obj\nimport tga.gaming.engine.model.Vector\n\n\ntypealias VectorFunction = () -> Vector?\n\nfun CompositeMover.addFollowMover(maxSpeed: Double = 2.0, setObjAngle: Boolean = true, target: VectorFunction? = null): FollowMover {\n    val mover = FollowMover(this as Obj, setObjAngle, maxSpeed, target)\n    this.movers.add(mover)\n    return mover\n}\n\ninline fun <reified T: CompositeMover> T.withFollowMover(maxSpeed: Double = 2.0, setObjAngle: Boolean = true, noinline target: VectorFunction): T {\n    val mover = FollowMover(this as Obj, setObjAngle, maxSpeed, target)\n    this.movers.add(mover)\n    return this\n}\n\nclass FollowMover(\n    override val obj: Obj,\n    var setObjAngle: Boolean = true,\n    maxSpeed: Double = 2.0,\n    var target: VectorFunction? = null\n) : Mover {\n\n    var maxSpeed2: Double = maxSpeed * maxSpeed\n        private set\n\n    var maxSpeed: Double = maxSpeed\n        set(value) {\n            field = value\n            maxSpeed2 = value*value\n        }\n\n    override fun move() {\n        target?.invoke()?.let { targetPosition: Vector ->\n            if (targetPosition == obj.p) return\n            obj.setDirectionToTarget(targetPosition)\n            if (maxSpeed != 0.0) {\n                var speed = targetPosition - obj.p\n                if (speed.len2 > maxSpeed2) {\n                    speed = obj.direction * maxSpeed\n                }\n                obj.p += speed\n            }\n        }\n    }\n\n}","package tga.gaming.engine.movers\n\nimport org.w3c.dom.events.KeyboardEvent\nimport tga.gaming.engine.model.*\n\nfun CompositeMover.addKeyboardAwsdMover(maxSpeed: Double = 2.0, bounds: Frame): KeyboardArrowsMover {\n    val mover = KeyboardArrowsMover(this as Obj, maxSpeed, bounds)\n    this.movers.add(mover)\n    return mover\n}\ninline fun <reified T: CompositeMover> T.withKeyboardAwsdMover(maxSpeed: Double = 2.0, bounds: Frame): T {\n    val mover = KeyboardArrowsMover(this as Obj, maxSpeed, bounds)\n    this.movers.add(mover)\n    return this\n}\n\nfun CompositeMover.addKeyboardArrowsMover(maxSpeed: Double = 2.0, bounds: Frame): KeyboardArrowsMover {\n    val mover = KeyboardArrowsMover(this as Obj, maxSpeed, bounds,\n        keyUp    = \"BracketLeft\",\n        keyRight = \"Backslash\",\n        keyDown  = \"Quote\",\n        keyLeft  = \"Semicolon\"\n    )\n    this.movers.add(mover)\n    return mover\n}\n\ninline fun <reified T: CompositeMover> T.withKeyboardArrowsMoverAWSD(maxSpeed: Double = 2.0, bounds: Frame): T {\n    val mover = KeyboardArrowsMover(this as Obj, maxSpeed, bounds,\n        keyUp    = \"BracketLeft\",\n        keyRight = \"Backslash\",\n        keyDown  = \"Quote\",\n        keyLeft  = \"Semicolon\"\n    )\n    this.movers.add(mover)\n    return this\n}\n\nopen class KeyboardArrowsMover(\n    override val obj: Obj,\n    private val maxSpeed: Double = 1.0,\n    private val bounds: Frame,\n    private val keyUp   : String = \"KeyW\",\n    private val keyRight: String = \"KeyD\",\n    private val keyDown : String = \"KeyS\",\n    private val keyLeft : String = \"KeyA\"\n) : Mover {\n\n\n    private var speed: Vector? = null\n\n    private var isUpKeyPressed    = false\n    private var isRightKeyPressed = false\n    private var isDownKeyPressed  = false\n    private var isLeftKeyPressed  = false\n\n    fun onKeyDown(ke: KeyboardEvent) {\n        when (ke.code) {\n            keyUp    -> if (!isUpKeyPressed )   { isUpKeyPressed    = true; updateSpeed() }\n            keyRight -> if (!isRightKeyPressed) { isRightKeyPressed = true; updateSpeed() }\n            keyDown  -> if (!isDownKeyPressed ) { isDownKeyPressed  = true; updateSpeed() }\n            keyLeft  -> if (!isLeftKeyPressed ) { isLeftKeyPressed  = true; updateSpeed() }\n        }\n    }\n\n    fun onKeyUp(ke: KeyboardEvent) {\n        when (ke.code) {\n            keyUp    -> if (isUpKeyPressed)    { isUpKeyPressed    = false; updateSpeed() }\n            keyRight -> if (isRightKeyPressed) { isRightKeyPressed = false; updateSpeed() }\n            keyDown  -> if (isDownKeyPressed)  { isDownKeyPressed  = false; updateSpeed() }\n            keyLeft  -> if (isLeftKeyPressed)  { isLeftKeyPressed  = false; updateSpeed() }\n        }\n    }\n\n    private fun updateSpeed() {\n        val dx: Int = when {\n            isRightKeyPressed == isLeftKeyPressed -> 0\n            isRightKeyPressed                     -> 1\n            isLeftKeyPressed                      -> -1\n            else                                  -> 0\n        }\n\n        val dy: Int = when {\n            isUpKeyPressed == isDownKeyPressed -> 0\n            isDownKeyPressed                   -> 1\n            isUpKeyPressed                     -> -1\n            else                               -> 0\n        }\n\n        when {\n            dx ==  0 && dy ==  0 -> speed = null\n            dx ==  0 && dy == -1 -> speed = vUp        * maxSpeed\n            dx ==  1 && dy == -1 -> speed = vUpRight   * maxSpeed\n            dx ==  1 && dy ==  0 -> speed = vRight     * maxSpeed\n            dx ==  1 && dy ==  1 -> speed = vDownRight * maxSpeed\n            dx ==  0 && dy ==  1 -> speed = vDown      * maxSpeed\n            dx == -1 && dy ==  1 -> speed = vDownLeft  * maxSpeed\n            dx == -1 && dy ==  0 -> speed = vLeft      * maxSpeed\n            dx == -1 && dy == -1 -> speed = vUpLeft    * maxSpeed\n        }\n    }\n\n\n    override fun move() {\n        if (speed != null) {\n            val p = obj.p\n            p += speed!!\n            p.restrictWithFrame(bounds)\n        }\n    }\n\n}","package tga.gaming.engine.render\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.dispatcher.GameObjects\nimport tga.gaming.engine.model.Drawable\nimport tga.gaming.engine.stat.Metric\n\nclass HtmlCanvas2dRenderer(\n    val canvas: HTMLCanvasElement,\n    val gameObjects: GameObjects,\n    val camera: Camera,\n    val isAbsolutePositioning: Boolean = true\n) : GameRenderer {\n\n    val ctx: CanvasRenderingContext2D = canvas.getContext(\"2d\")!! as CanvasRenderingContext2D\n    val width = canvas.width\n    val height = canvas.height\n\n    val paintObjectsMetric = Metric(\"painted objects per Frame\")\n    val paintErrorsMetric = Metric(\"paint errors per Frame\")\n    val framesMetric = Metric(\"frames per second\")\n\n\n    override fun paint() {\n        framesMetric.add(1)\n        canvas.width = canvas.width\n\n        var n = 0\n        var e = 0\n\n\n        gameObjects.objects.forEach {\n            try {\n                if (it is Drawable) {\n                    if (it.isAlwaysVisible || camera.isInVisibleArea(it)) {\n                        n++\n                        ctx.setTransform(1.0, 0.0, 0.0, 1.0, 0.0, 0.0)\n                        ctx.scale(camera.xScale, camera.yScale)\n                        ctx.translate(-camera.visibleWordFrame.p0.x, -camera.visibleWordFrame.p0.y)\n                        it.draw(ctx)\n                    }\n                }\n            } catch (t: Throwable) {\n                e++\n                console.error(t)\n            }\n        }\n\n        paintObjectsMetric.add(n)\n        paintErrorsMetric.add(e)\n\n        if (isDebugUiEnabled) renderDebugUI()\n    }\n\n    private fun renderDebugUI() {\n        renderLogs()\n    }\n\n    private fun renderLogs() {\n        ctx.setTransform(1.0, 0.0, 0.0, 1.0, 0.0, 0.0)\n        logY = 3.0\n\n        debug(paintObjectsMetric.getForSeveralLastSecondsAsString(5))\n        debug( paintErrorsMetric.getForSeveralLastSecondsAsString(5))\n        debug(      framesMetric.getForSeveralLastSecondsAsString(5))\n\n\n        warn(\"camera.visibleWordFrame = ${camera.visibleWordFrame} w=${camera.visibleWordFrame.width} h=${camera.visibleWordFrame.height}\")\n        warn(\"camera.activeWordZone = ${camera.activeWordZone} w=${camera.activeWordZone.width} h=${camera.activeWordZone.height}\")\n        debug(\"camera.scale { x=${camera.xScale}, y=${camera.yScale} }\")\n        info(\"camera.screenFrame = ${camera.screenFrame} w=${camera.screenFrame.width} h=${camera.screenFrame.height}\")\n\n    }\n\n    override var isDebugUiEnabled: Boolean = false\n\n    private var logY = 5.0\n    private val infoYInc = 16.0\n    private fun info(text: String)  { ctx.fillStyle = \"lightgreen\"; log(text) }\n    private fun debug(text: String) { ctx.fillStyle = \"white\";      log(text) }\n    private fun warn(text: String)  { ctx.fillStyle = \"#EAE791FF\";  log(text) }\n    private fun error(text: String) { ctx.fillStyle = \"#FF6C6CFF\";  log(text) }\n\n    private fun log(text: String) {\n        logY += infoYInc\n        ctx.font = \"0.8em Arial\"\n        ctx.fillText(text, 10.0, logY)\n    }\n}\n","package tga.gaming.engine.shapes\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.model.Drawable\nimport tga.gaming.engine.model.Obj\n\n\nclass CameraVisualizer(\n    val camera: Camera\n): Obj(r=0.0, frame = null), Drawable {\n\n    override val isAlwaysVisible = true\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        ctx.lineWidth = 1.0\n        ctx.strokeStyle = \"red\"\n        with(camera.visibleWordFrame) {\n            ctx.strokeRect(p0.x + 1, p0.y + 1, width - 1, height - 1)\n        }\n\n        ctx.strokeStyle = \"yellow\"\n        with(camera.activeWordZone) {\n            ctx.strokeRect(p0.x, p0.y, width, height)\n        }\n\n    }\n\n}\n","package tga.gaming.engine.shapes\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.CanvasTextBaseline\nimport org.w3c.dom.TOP\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.index.gridStepD\nimport tga.gaming.engine.model.Drawable\nimport tga.gaming.engine.model.Obj\nimport kotlin.math.max\nimport kotlin.math.min\n\n\nfun GameWord.withIndexGrid(\n    colorPassive: String = \"#443c38\",\n    colorActive: String = \"#886134\",\n    camera: Camera,\n): IndexGrid {\n    return dispatcher.addObj(IndexGrid(colorPassive, colorActive, camera))\n}\n\nclass IndexGrid(\n    val colorPassive: String,\n    val colorActive: String,\n    val camera: Camera,\n) : Obj(frame = null), Drawable {\n\n    override val isAlwaysVisible = true\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n\n        val index = this.dispatcher.index\n        val range =\n            with(camera.visibleWordFrame) {\n                index.rangeOf(p0.x, p0.y, p1.x, p1.y)\n            } ?: return\n\n        val l0 = max(0, range.lin0)\n        val c0 = max(0, range.col0)\n        val l1 = min(index.maxLinesIndex, range.lin1)\n        val c1 = min(index.maxColumnsIndex, range.col1)\n        val size = gridStepD\n        var y = l0*size\n        for (l in l0 .. l1) {\n            var x = c0*size\n            for (c in c0 .. c1) {\n                ctx.beginPath()\n                val count = index.matrix[l][c].size\n                ctx.strokeStyle = if ( count > 0) colorActive else colorPassive\n                val x0 = x+2\n                val y0 = y+2\n\n                ctx.lineWidth = 0.5\n                ctx.strokeText(\"$count\",x0+3,y0+3)\n                ctx.textBaseline = CanvasTextBaseline.TOP\n                ctx.lineWidth = 2.0\n                ctx.rect(x0,y0, size-4,size-4)\n                ctx.stroke()\n                x += size\n            }\n            y += size\n        }\n\n\n    }\n}\n","package tga.gaming.engine.shapes\n\nimport org.w3c.dom.TouchEvent\nimport org.w3c.dom.events.MouseEvent\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.dispatcher.SimpleEventsListener\nimport tga.gaming.engine.model.*\n\nfun GameWord.withPointer(camera: Camera, initPos: Vector? = null): Pointer {\n    val pointer = Pointer(camera, initPos)\n    dispatcher.addObj(pointer)\n    return pointer\n}\n\nclass Pointer(\n    private val camera: Camera,\n    initPos: Vector? = null\n) : Obj(r = 0.0), Moveable, SimpleEventsListener, CompositeDrawer {\n\n    override val drawers = mutableListOf<Drawer>()\n\n    var externalPointerCoordinates : Vector? = null\n        private set\n    private var externalPointerWasMoved = false\n\n    init {\n        initPos?.let {\n            p.set(it.x, it.y)\n        }\n    }\n\n    override fun move() {\n        if (externalPointerWasMoved) {\n            externalPointerCoordinates?.let{\n                p.set(it)\n            }\n            externalPointerWasMoved = false\n        }\n    }\n\n    override fun onTouchMove  (te: TouchEvent) { te.touches.item(0)?.let{ movementProcess(it.clientX.toDouble(), it.clientY.toDouble()) }}\n    override fun onTouchEnd   (te: TouchEvent) { movementFinish() }\n    override fun onTouchStart (te: TouchEvent) { te.touches.item(0)?.let{ movementStart(it.clientX.toDouble(), it.clientY.toDouble()) }}\n    override fun onMouseMove  (me: MouseEvent) { movementProcess(me.x, me.y) }\n    override fun onMouseEnter (me: MouseEvent) { movementStart(me.x, me.y)  }\n    override fun onMouseLeave (me: MouseEvent) { movementFinish()  }\n\n    private fun movementProcess(x: Double, y: Double) {\n        if (externalPointerCoordinates == null) externalPointerCoordinates = v()\n        externalPointerCoordinates!!.set(\n            camera.visibleWordFrame.p0.x + x/camera.xScale,\n            camera.visibleWordFrame.p0.y + y/camera.xScale,\n        )\n        externalPointerWasMoved = true\n    }\n\n    fun movementStart(x: Double, y: Double) {\n        externalPointerCoordinates = v(\n            camera.visibleWordFrame.p0.x + x/camera.xScale,\n            camera.visibleWordFrame.p0.y + y/camera.xScale,\n        )\n        externalPointerWasMoved = true\n    }\n\n    fun movementFinish() {\n        if (externalPointerCoordinates != null) {\n            externalPointerCoordinates = null\n            externalPointerWasMoved = true\n        }\n    }\n\n}","package tga.gaming.engine.stat\n\nimport kotlinx.html.currentTimeMillis\n\nclass Metric(\n    val name: String\n) {\n    private val statistic = HashMap<Long, Stat>()\n\n    fun add(addingValue: Int) {\n        val t = currentTimeMillis() / 1000\n        val stat = when(val st = statistic[t]) {\n            null -> { Stat().also { statistic[t] = it } }\n            else -> st\n        }\n\n        stat.add(addingValue)\n    }\n\n    fun getForSeveralLastSecondsAsString(nSecond: Int): String {\n        return name + \": \" + getForSeveralLastSeconds(nSecond).toString()\n    }\n\n    fun getForSeveralLastSeconds(nSecond: Int): Stat {\n        val t = currentTimeMillis() / 1000\n        val tPast = t - nSecond\n\n        val s = Stat()\n        for (i in tPast until t ) {\n            val stat = statistic[i]\n            if (stat != null) {\n                s.sum += stat.sum\n                s.count += stat.count\n                if (s.max < stat.max) s.max = stat.max\n                if (s.min > stat.min) s.min = stat.min\n            }\n            if (s.count > 0) s.avg = s.sum.toDouble() / s.count\n        }\n\n        return s\n    }\n\n}\n\ndata class Stat(\n    var sum: Long = 0,\n    var count: Int = 0,\n    var avg: Double = 0.0,\n    var max: Int = 0,\n    var min: Int = 0,\n) {\n    fun add(addingValue: Int) {\n        sum += addingValue\n        count += 1\n        avg = sum.toDouble() / count\n        if (max < addingValue) max = addingValue\n        if (min > addingValue) max = min\n    }\n}","package tga.gaming.games\n\nimport kotlinx.browser.document\nimport kotlinx.browser.window\nimport org.w3c.dom.HTMLCanvasElement\nimport org.w3c.dom.Node\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.index.gridStep\nimport tga.gaming.engine.model.Frame\nimport tga.gaming.engine.model.Vector\nimport tga.gaming.engine.model.v\nimport tga.gaming.games.balloons.BalloonsGame\nimport tga.gaming.games.ghosts.GhostsGame\nimport tga.gaming.games.wiggly_worm.WigglyWormGame\n\nvar game: GameWord? = null\nlateinit var canvas: HTMLCanvasElement\n\nenum class GameCase { ghosts, ballons, worms }\n\nfun main() {\n    window.onload = {\n        canvas  = document.body!!.initCanvas()\n\n        document.getElementById(\"link-game-ghost\")?.   addEventListener(\"click\", { switchGame(GameCase.ghosts ) } )\n        document.getElementById(\"link-game-balloons\")?.addEventListener(\"click\", { switchGame(GameCase.ballons) } )\n        document.getElementById(\"link-game-wiggly\")?.  addEventListener(\"click\", { switchGame(GameCase.worms  ) } )\n\n        switchGame(GameCase.worms)\n\n    }\n\n    window.onresize = { canvas.resizeToWindow() }\n\n}\n\nfun switchGame(gameToRun: GameCase) {\n    game?.finishGame()\n\n    val zoomOut = 1\n\n    val screenFrame: Frame = Frame(v(0,0), v(canvas.width, canvas.height))\n    println(screenFrame)\n\n    val wordSize: Vector = when (gameToRun){\n        GameCase.ghosts  -> screenFrame.p1 * 2\n        GameCase.ballons -> screenFrame.p1.copy()\n        GameCase.worms   -> v(10_000, 10_000)\n    }\n\n    val center = wordSize / 2\n    val halfOfScreenSize = v(canvas.width.toDouble() / 2.0, canvas.height.toDouble() / 2.0)\n    val visibleWordFrame = (screenFrame * zoomOut) + (center - (halfOfScreenSize * zoomOut) )\n\n    val camera = Camera(\n        visibleWordFrame = visibleWordFrame,        \n        screenFrame = screenFrame,\n        wordSize = wordSize,\n        percentageOfActiveArea = 0.6\n    )\n\n    val size = v(canvas.width, canvas.height)\n    game = when(gameToRun) {\n        GameCase.ghosts  -> GhostsGame(canvas, size)\n        GameCase.ballons -> BalloonsGame(canvas, size)\n        GameCase.worms   -> WigglyWormGame(canvas, wordSize, camera)\n    }\n    game!!.startGame()\n}\n\nfun HTMLCanvasElement.resizeToWindow(){\n    width  = ((window.innerWidth -10) / gridStep) * gridStep\n    height = ((window.innerHeight-10) / gridStep) * gridStep\n}\n\nfun Node.initCanvas(): HTMLCanvasElement {\n    val canvas = document.createElement(\"canvas\") as HTMLCanvasElement\n    canvas.width  = window.innerWidth-20\n    canvas.height = window.innerHeight-20\n    appendChild(canvas)\n\n    return canvas\n}\n\n","package tga.gaming.games.ghosts\n\nimport kotlinx.browser.window\nimport org.w3c.dom.HTMLCanvasElement\nimport org.w3c.dom.events.MouseEvent\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.dispatcher.Dispatcher\nimport tga.gaming.engine.dispatcher.ObjectsDispatcher\nimport tga.gaming.engine.drawers.withCircleDrawer\nimport tga.gaming.engine.drawers.withObjFrameDrawer\nimport tga.gaming.engine.index.ObjectsSquareIndex\nimport tga.gaming.engine.index.gridStep\nimport tga.gaming.engine.index.gridStepD\nimport tga.gaming.engine.model.Frame\nimport tga.gaming.engine.model.Vector\nimport tga.gaming.engine.model.v\nimport tga.gaming.engine.render.HtmlCanvas2dRenderer\nimport tga.gaming.engine.shapes.Pointer\nimport tga.gaming.games.ghosts.objects.Ghost\nimport tga.gaming.games.ghosts.objects.KotlinSign\nimport tga.gaming.games.ghosts.objects.PlayerObj\nimport tga.gaming.games.ghosts.objects.playerObj\nimport kotlin.random.Random.Default.nextDouble\n\nclass GhostsGame(\n    canvas: HTMLCanvasElement,\n    wordSize: Vector,\n    camera: Camera =  Frame(v(0,0), v(canvas.width, canvas.height)).let{ Camera(it, it, wordSize) },\n    dsp: Dispatcher = ObjectsDispatcher(ObjectsSquareIndex(wordSize))\n): GameWord(\n    canvas = canvas,\n    wordSize = wordSize,\n    dispatcher = dsp,\n    camera = camera,\n    renderer = HtmlCanvas2dRenderer(\n        canvas,\n        dsp,\n        camera\n    ),\n    turnDurationMillis = 20\n) {\n\n    val t = gridStep * 3.5\n    override val isDebugUiAllowed = true\n\n    private lateinit var pointer: Pointer\n    private lateinit var player: PlayerObj\n\n    override fun startGame() {\n        val d = gridStepD / 2\n        val center = wordSize / 2\n\n        pointer = dispatcher.addObj( Pointer(camera, center)\n            .withCircleDrawer(radius = 5))\n\n        player = playerObj(center, wordSize){ pointer.p }\n            .withObjFrameDrawer()\n\n        dispatcher.addObj(\n            KotlinSign(p = wordSize / 2, speed = 0.08, r = d*3)\n                .withObjFrameDrawer()\n        )\n        dispatcher.addObj(player)\n\n        dispatcher.addObj( Ghost( v(0,0), player) )\n        dispatcher.addObj( Ghost( wordSize.copy(), player) )\n        dispatcher.addObj( Ghost( wordSize.copy(x = 0.0), player) )\n        dispatcher.addObj( Ghost( wordSize.copy(y = 0.0), player) )\n\n        window.setInterval(timeout = 500, handler = this::ifPlay)\n        super.startGame()\n    }\n\n    private fun ifPlay() {\n        if (player.visibility <= 0) {\n\n            player.imagesDrawer.nextImage()\n            if (player.imagesDrawer.imageIndex == 0) {\n                this.pause()\n            } else {\n                player.visibility = player.maxVisibility\n            }\n\n        } else {\n\n            if (nextDouble() < 0.1) {\n                dispatcher.addObj(\n                    KotlinSign(\n                        v(\n                            x = nextDouble(wordSize.x),\n                            y = nextDouble(wordSize.y)\n                        )\n                    )\n                )\n            }\n\n            if (this.dispatcher.objects.size < 1000) {\n                dispatcher.addObj(\n                    Ghost(\n                        v(\n                            x = nextDouble(wordSize.x),\n                            y = nextDouble(wordSize.y)\n                        ),\n                        player\n                    )\n                )\n            }\n        }\n\n    }\n\n    override fun propagateOnClick(me: MouseEvent) {\n        println(\"mouseEvent.button = ${me.button}\")\n        dispatcher.addObj( Ghost(v(me.x, me.y), player) )\n        super.propagateOnClick(me)\n    }\n}\n\n","package tga.gaming.games.balloons\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\nimport org.w3c.dom.events.MouseEvent\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.dispatcher.Dispatcher\nimport tga.gaming.engine.dispatcher.ObjectsDispatcher\nimport tga.gaming.engine.dispatcher.SimpleEventsListener\nimport tga.gaming.engine.drawers.withCircleDrawer\nimport tga.gaming.engine.index.ObjectsSquareIndex\nimport tga.gaming.engine.index.gridStepD\nimport tga.gaming.engine.model.*\nimport tga.gaming.engine.render.HtmlCanvas2dRenderer\nimport tga.gaming.engine.shapes.Pointer\nimport tga.gaming.engine.shapes.withPointer\nimport kotlin.math.cos\nimport kotlin.math.sin\nimport kotlin.random.Random.Default.nextDouble\nimport kotlin.random.Random.Default.nextInt\n\nprivate const val surfaceCoefficient: Int = 1000\n\nprivate const val speedFixPart = 0.2\nprivate const val speedRandomPart = 0.8\n\nprivate const val mouseRotationSpeed = 0.020\nprivate const val mouseRotationRadius = 70.0\n\nprivate const val growSpeed: Double = 2.5\nprivate const val deGrowSpeed: Double = growSpeed / 2.0\nprivate const val maxR: Double = 60.0\n\n\nclass BalloonsGame(\n    canvas: HTMLCanvasElement,\n    wordSize: Vector,\n    camera: Camera =  Frame(v(0,0), v(canvas.width, canvas.height)).let{ Camera(it, it, wordSize) },\n    dsp: Dispatcher = ObjectsDispatcher(ObjectsSquareIndex(wordSize))\n): GameWord(\n    canvas = canvas,\n    wordSize = wordSize,\n    dispatcher = dsp,\n    camera = camera,\n    renderer = HtmlCanvas2dRenderer(\n        canvas,\n        dsp,\n        camera,\n    ),\n    turnDurationMillis = 25\n) {\n\n    override fun startGame() {\n        initObjects()\n        super.startGame()\n    }\n\n    private fun initObjects() {\n        val pointer = withPointer((renderer as HtmlCanvas2dRenderer).camera)\n\n        dispatcher.addObj(\n            MagnifyingGlass(wordSize/2, r=gridStepD*1.5, pointer = pointer)\n        )\n\n        generateCircles( (wordSize.x * wordSize.y).toInt() / surfaceCoefficient )\n    }\n\n    private fun generateCircles(numberOfCircles: Int) {\n        val r = 5.0\n        val wholeWordSize = Frame( v(r,r), wordSize.copy() - v(r,r) )\n        val offset = v(gridStepD/2, gridStepD/2)\n        val dx = wordSize.x - gridStepD\n        val dy = wordSize.y - gridStepD\n        val colors = colorsArray[nextInt(colorsArray.size)]\n\n        for (i in 0..numberOfCircles) {\n            dispatcher.addObj(\n                Circle(\n                    p = v(nextDouble(dx), nextDouble(dy)) + offset,\n                    r = r,\n                    color = colors[ nextInt(colors.size) ],\n                    area = wholeWordSize,\n                    speedLength = speedFixPart + nextDouble(0.0, speedRandomPart)\n                )\n            )\n        }\n\n    }\n\n    companion object {\n        val colorsArray = arrayOf(\n            arrayOf(\"#FF5F5D\",\"#3F7C85\",\"#00CCBF\",\"#72F2EB\",\"#747E7E\"),\n            arrayOf(\"#012030\",\"#13678A\",\"#45C4B0\",\"#9AEBA3\",\"#DAFDBA\"),\n            arrayOf(\"#151F30\",\"#103778\",\"#0593A2\",\"#FF7A48\",\"#E3371E\"),\n            arrayOf(\"#105057\",\"#898C8B\",\"#FF81D0\",\"#400036\",\"#919151\"),\n            arrayOf(\"#146152\",\"#44803F\",\"#B4CF66\",\"#FFEC5C\",\"#FF5A33\"),\n            arrayOf(\"#662400\",\"#B33F00\",\"#FF6B1A\",\"#006663\",\"#00B3AD\"),\n        )\n    }\n}\n\nprivate class Circle(\n    p: Vector,\n    r: Double,\n    private val color: String,\n    private val area: Frame,\n    speedLength: Double,\n) : Obj(p = p, r = r), CompositeDrawer, Moveable, Actionable {\n\n    val minR = r\n    var speed = randomNormVector() * speedLength\n    var addSpeed: Vector? = null\n\n    override val drawers = mutableListOf<Drawer>()\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        ctx.beginPath()\n        ctx.fillStyle = color\n        ctx.arc(x = p.x, y = p.y, radius = r, startAngle = 0.0, endAngle =  PI2)\n        ctx.fill()\n\n        super.draw(ctx)\n    }\n\n    override fun move() {\n        p += speed\n        addSpeed?.let{ p += it }\n        if (p.x < area.p0.x && speed.x < 0) { speed.x = -speed.x; addSpeed?.let{it.x = -it.x} }\n        if (p.x > area.p1.x && speed.x > 0) { speed.x = -speed.x; addSpeed?.let{it.x = -it.x} }\n        if (p.y < area.p0.y && speed.y < 0) { speed.y = -speed.y; addSpeed?.let{it.y = -it.y} }\n        if (p.y > area.p1.y && speed.y > 0) { speed.y = -speed.y; addSpeed?.let{it.y = -it.y} }\n    }\n\n    override fun act() {\n        if (r > minR) r -= deGrowSpeed\n        if (r < minR) r = minR\n\n        if (addSpeed != null) {\n            addSpeed = if (addSpeed!!.len > 0.001) addSpeed!! * 0.99 else null\n        }\n    }\n}\n\n\nprivate class MagnifyingGlass(p: Vector, r: Double, val pointer: Pointer) : Obj(p = p, r = r),\n    Moveable, Actionable, SimpleEventsListener\n{\n    var t: Double = 0.0\n    override fun move() {\n        val position = pointer.externalPointerCoordinates ?: pointer.p\n        position.let {\n            t += mouseRotationSpeed\n            if (t > PI2) t -= PI2\n            val offset = v(sin(t), cos(t)) * mouseRotationRadius\n            p.set(it + offset)\n        }\n    }\n\n    override fun act() {\n        dispatcher.index.objectsOnTheSamePlaceWith(this).forEach {\n            if (it is Circle) {\n                val len = (it.p - p).len\n                if (len < r) {\n                    if (it.r < maxR) it.r += growSpeed\n                    if (it.r > maxR) it.r = maxR\n                }\n            }\n        }\n    }\n\n    override fun onClick(me: MouseEvent) {\n        dispatcher.index.objectsOnTheSamePlaceWith(this).forEach {\n            if (it is Circle) {\n                val len = (it.p - p).len\n                if (len < r) {\n                    it.addSpeed = it.speed.norm() * 9.0\n                }\n            }\n        }\n    }\n\n}\n","package tga.gaming.games.wiggly_worm\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.HTMLCanvasElement\nimport org.w3c.dom.events.KeyboardEvent\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.camera.Camera\nimport tga.gaming.engine.camera.withCameraMover\nimport tga.gaming.engine.dispatcher.Dispatcher\nimport tga.gaming.engine.dispatcher.ObjectsDispatcher\nimport tga.gaming.engine.index.ObjectsSquareIndex\nimport tga.gaming.engine.model.*\nimport tga.gaming.engine.movers.KeyboardArrowsMover\nimport tga.gaming.engine.movers.addConstantSpeedMover\nimport tga.gaming.engine.movers.addKeyboardAwsdMover\nimport tga.gaming.engine.movers.withConstantSpeedMover\nimport tga.gaming.engine.render.HtmlCanvas2dRenderer\nimport tga.gaming.engine.shapes.Pointer\nimport tga.gaming.games.wiggly_worm.bot.WormBot\nimport tga.gaming.games.wiggly_worm.colors.SnakesPalette\nimport tga.gaming.games.wiggly_worm.objects.CirclesBackground\nimport tga.gaming.games.wiggly_worm.objects.Food\nimport tga.gaming.games.wiggly_worm.worms.Worm\nimport tga.gaming.games.wiggly_worm.worms.WormWithFollowBodyMover\nimport kotlin.math.PI\nimport kotlin.math.cos\nimport kotlin.math.sin\nimport kotlin.random.Random\n\nprivate const val SNAKE_INITIAL_RADIUS: Double = 20.0\nprivate const val SNAKE_SPEED: Double = 5.0\n//private val snakeMaxTurnAngle: Double = PI / 180 * 160\nprivate const val SNAKE_ROTATION_SPEED = PI / 180 * 3\n\nvar ws: Vector = v(10,10)\nvar wArea: Frame = Frame(v(), v())\n\nclass WigglyWormGame(\n    canvas: HTMLCanvasElement,\n    wordSize: Vector,\n    camera: Camera,\n    dsp: Dispatcher = ObjectsDispatcher(ObjectsSquareIndex(wordSize)),\n): GameWord(\n    canvas = canvas,\n    wordSize = wordSize,\n    dispatcher = dsp,\n    camera = camera,\n    renderer = HtmlCanvas2dRenderer(canvas, dsp, camera),\n    turnDurationMillis = 20,\n) {\n\n    companion object {\n        private const val maxWormsCount: Int = 40\n        private const val maxFoodAmount: Int = 300\n    }\n\n    override val isDebugUiAllowed = true\n\n    private lateinit var pointer: Pointer\n    private lateinit var player: Worm\n\n    private var foodAmount: Int = 0\n\n    init {\n        ws = wordSize\n        wArea = Frame(p0 = v(0,0), p1 = wordSize.copy())\n    }\n\n    private lateinit var mover21: KeyboardArrowsMover\n\n    override fun startGame() {\n        addObjects()\n        super.startGame()\n    }\n\n    private fun addObjects() {\n        dispatcher.addObj(CirclesBackground(this))\n\n        val center = wordSize / 2\n\n        pointer = Pointer(camera, center)\n\n        player = createPlayerWorm(v(0, -100)).withConstantSpeedMover(SNAKE_SPEED, SNAKE_ROTATION_SPEED, wArea){ pointer.p }\n        dispatcher.addObj(player)\n\n        val worm2: Worm = createWorm( v(0, +100) )!!\n        mover21 = worm2.addKeyboardAwsdMover(SNAKE_SPEED, wArea)\n        dispatcher.addObjs(worm2)\n\n        /*\n                val clocks1: Pair<ClockPointer, ClockPointer> = createClockPointersChain()\n                val clocks2: Pair<ClockPointer, ClockPointer> = createClockPointersChain()\n\n                val worm11: Worm = createWorm(v(-150, -70)).withConstantSpeedMover(snakeSpeed, snakeRotationSpeed, wArea){ clocks1.second.hand }\n                val worm22: Worm = createWorm(v(-150, +70)).withConstantSpeedMover(snakeSpeed, snakeRotationSpeed, wArea){ clocks2.second.hand }\n\n                player = worm1\n                player.game = this\n\n\n                dispatcher.addObjs(worm1, worm2, worm11, worm22)\n\n                clocks1.first.centerPlace = { worm1.body.last().p }\n                clocks2.first.centerPlace = { worm2.body.last().p }\n        */\n\n        repeat(maxFoodAmount){\n            addFood()\n        }\n\n        dispatcher.addObj(pointer)\n\n        repeat(maxWormsCount-10){\n            addBot()\n        }\n\n        //dispatcher.addObjs(CameraObjDrawer())\n    }\n\n    private fun createClockPointersChain(): Pair<ClockPointer, ClockPointer> {\n        val p1  = ClockPointer(this, nextRandomRadius(50, 150), nextRandomSpeed())\n        val p2 = ClockPointer(this, nextRandomRadius(50,100), nextRandomSpeed()).apply {\n            centerPlace = { p1.hand }\n        }\n        val p3 = ClockPointer(this, nextRandomRadius(50,150), nextRandomSpeed()).apply {\n            centerPlace = { p2.hand }\n        }\n        dispatcher.addObjs(p1, p2, p3)\n        return p1 to p3\n    }\n\n    private var wormsCounter = 0\n    private fun createWorm(centerOffset: Vector): Worm? {\n        if (wormsCounter >= maxWormsCount) return null\n        wormsCounter++\n\n        val iColor = wormsCounter % SnakesPalette.colors.size\n        return WormWithFollowBodyMover(\n            p = ws/2 + centerOffset,\n            initialRadius = SNAKE_INITIAL_RADIUS,\n            fillStyles =  SnakesPalette.colors[iColor].fillStyles,\n            strokeStyles = SnakesPalette.colors[iColor].strokeStyles,\n            game = this\n        )\n    }\n\n    private fun addBot() {\n\n        val worm = createWorm(Vector.random1() * Random.nextInt(1000, 5000))\n\n        if (worm != null) {\n            val bot = WormBot(worm)\n            dispatcher.addObjs(bot, worm)\n            worm.addConstantSpeedMover(SNAKE_SPEED, SNAKE_ROTATION_SPEED, wArea) { bot.targetPoint }\n            worm.onDead = {\n                dispatcher.delObj(bot)\n                addBot()\n            }\n\n        }\n    }\n\n\n    private fun createPlayerWorm(centerOffset: Vector): Worm {\n        wormsCounter++\n\n        val worm = WormWithFollowBodyMover(\n                p = ws/2 + centerOffset,\n                initialRadius = SNAKE_INITIAL_RADIUS,\n                fillStyles =  SnakesPalette.colors[wormsCounter % SnakesPalette.colors.size].fillStyles,\n                strokeStyles = SnakesPalette.colors[wormsCounter % SnakesPalette.colors.size].strokeStyles,\n                //maxCurveAngle = snakeMaxTurnAngle\n                game = this\n            )\n            //.withObjFrameDrawer()\n            .withCameraMover(camera)\n        worm.isCurrentPalyer = true\n        wormsCounter++\n        return worm\n    }\n\n\n    override fun propagateOnKeyPress(ke: KeyboardEvent) {\n        mover21.onKeyDown(ke)\n        super.propagateOnKeyPress(ke)\n    }\n\n    override fun propagateOnKeyUp(ke: KeyboardEvent) {\n        mover21.onKeyUp(ke)\n        super.propagateOnKeyUp(ke)\n    }\n\n    fun addFood(foodPosition: Vector? = null, isOverFoodAllowed: Boolean = false) {\n        if (foodAmount >= maxFoodAmount && !isOverFoodAllowed) return\n        foodAmount++\n\n        val off = 27.0\n        val fp = foodPosition ?: (v(off,off) + v(Random.nextDouble(ws.x-off), Random.nextDouble(ws.y-off)))\n        dispatcher.addObj(Food(p = fp))\n    }\n\n}\n\n\n\nclass ClockPointer(\n    val game: GameWord,\n    r: Double,\n    private var tSpeed: Double,\n    private val color: String = \"#EAE791FF\"\n): Obj(r = r), Actionable, Drawable {\n\n    var t = Random.nextDouble() * PI\n    var hand: Vector = v(r,0)\n    var centerPlace: () -> Vector = {p}\n\n    override fun act() {\n        t += tSpeed\n        p.set(centerPlace())\n        hand.set(p.x + cos(t) * r, p.y + sin(t) * r)\n    }\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        if (game.isDebugUiEnabled) {\n            ctx.beginPath()\n            ctx.moveTo(p.x, p.y)\n            ctx.lineTo(hand.x, hand.y)\n            ctx.strokeStyle = color\n            ctx.lineWidth = 2.5\n            ctx.stroke()\n        }\n    }\n}\n\nprivate fun nextRandomSpeed(): Double {\n    val sign = if (Random.nextInt(100) > 50) 1 else -1\n    return (PI2/360) * Random.nextDouble(0.5, 1.2) * sign\n}\n\nprivate fun nextRandomRadius(r1: Int, r2: Int): Double = r1.toDouble() + Random.nextDouble(r2.toDouble())",null,"package tga.gaming.games.ghosts.objects\n\nimport tga.gaming.engine.drawers.withImageDrawer\nimport tga.gaming.engine.image.loadImage\nimport tga.gaming.engine.index.gridStepD\nimport tga.gaming.engine.model.*\nimport kotlin.math.PI\nimport kotlin.math.sin\n\nclass KotlinSign(\n    p: Vector = v(),\n    private val speed: Double = 0.05,\n    r: Double = gridStepD-5.0\n) : Obj(p = p, r = r),\n    CompositeDrawer,\n    Actionable\n{\n    override val drawers = mutableListOf<Drawer>()\n    private var t = 0.0\n\n    init {\n        withImageDrawer(loadImage(\"/game/zombie/img/kotlin-logo.svg\"))\n    }\n\n    override fun act() {\n        t += speed\n        angle = amplitude * sin(t)\n    }\n\n    companion object {\n        const val amplitude = PI /4\n    }\n}\n","package tga.gaming.games.ghosts.objects\n\nimport tga.gaming.engine.drawers.withImagesDrawer\nimport tga.gaming.engine.drawers.withObjFrameDrawer\nimport tga.gaming.engine.image.loadImages\nimport tga.gaming.engine.index.gridStepD\nimport tga.gaming.engine.model.*\nimport tga.gaming.engine.movers.withFollowMover\nimport kotlin.random.Random.Default.nextInt\n\nclass Ghost (\n    p: Vector,\n    private val player: PlayerObj,\n    r: Double = gridStepD -1,\n    override var frame: Frame = Frame.square(r),\n) : Obj(p = p, r=r),\n    CompositeDrawer,\n    CompositeMover\n{\n    override val drawers = ArrayList<Drawer>(2)\n    override val movers = ArrayList<Mover>(1)\n\n    init {\n        angle = (player.p - p).angle()\n        withImagesDrawer(ghostImages, nextInt(6))\n        // withObjPositionDrawer(strokeStyle = \"#AD559AFF\")\n        withObjFrameDrawer(strokeStyle = \"#AD559AFF\")\n        withFollowMover(1.0){ player.p }\n    }\n\n\n    companion object {\n        val ghostImages = loadImages(\"game/zombie/img/gost-<n>.gif\", 6)\n    }\n\n}\n","package tga.gaming.games.ghosts.objects\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.events.KeyboardEvent\nimport org.w3c.dom.events.MouseEvent\nimport tga.gaming.engine.dispatcher.SimpleEventsListener\nimport tga.gaming.engine.drawers.withImagesDrawer\nimport tga.gaming.engine.image.loadImages\nimport tga.gaming.engine.index.gridStepD\nimport tga.gaming.engine.model.*\nimport tga.gaming.engine.movers.VectorFunction\nimport tga.gaming.engine.movers.withFollowMover\n\nfun playerObj(\n    p: Vector,\n    bounds: Vector,\n    targetPoint: VectorFunction\n): PlayerObj {\n    val player = PlayerObj(p, bounds = bounds).apply {\n        withFollowMover(0.0, target = targetPoint)\n    }\n    return player\n}\n\nclass PlayerObj(\n    p: Vector,\n    r: Double = gridStepD-2,\n    override var frame: Frame = Frame.square(r),\n    val bounds: Vector\n) : Obj(p = p, r = r),\n    CompositeDrawer,\n    CompositeMover,\n    SimpleEventsListener,\n    Moveable,\n    Actionable\n{\n    override val drawers = ArrayList<Drawer>(2)\n    override val movers = ArrayList<Mover>(1)\n    private var speed: Vector? = null\n\n    private var isUpKeyPressed    = false\n    private var isRightKeyPressed = false\n    private var isDownKeyPressed  = false\n    private var isLeftKeyPressed  = false\n\n    val maxVisibility: Double = 100.0\n    var visibility: Double = maxVisibility\n\n    val imagesDrawer = withImagesDrawer(playerImages)\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        ctx.globalAlpha = when {\n                visibility <= 0 -> 0.0\n                visibility > 0 && visibility <= maxVisibility -> visibility / maxVisibility\n                else -> 1.0\n            }\n        super.draw(ctx)\n        ctx.globalAlpha = 1.0\n    }\n\n    override fun onKeyDown(ke: KeyboardEvent) {\n        when (ke.code) {\n            \"KeyW\" -> if (!isUpKeyPressed )   { isUpKeyPressed    = true; updateSpeed() }\n            \"KeyD\" -> if (!isRightKeyPressed) { isRightKeyPressed = true; updateSpeed() }\n            \"KeyS\" -> if (!isDownKeyPressed ) { isDownKeyPressed  = true; updateSpeed() }\n            \"KeyA\" -> if (!isLeftKeyPressed ) { isLeftKeyPressed  = true; updateSpeed() }\n        }\n    }\n\n    override fun onKeyUp(ke: KeyboardEvent) {\n        when (ke.code) {\n            \"KeyW\" -> if (isUpKeyPressed)    { isUpKeyPressed    = false; updateSpeed() }\n            \"KeyD\" -> if (isRightKeyPressed) { isRightKeyPressed = false; updateSpeed() }\n            \"KeyS\" -> if (isDownKeyPressed)  { isDownKeyPressed  = false; updateSpeed() }\n            \"KeyA\" -> if (isLeftKeyPressed)  { isLeftKeyPressed  = false; updateSpeed() }\n        }\n    }\n\n    private fun updateSpeed() {\n        val dx: Int = when {\n            isRightKeyPressed == isLeftKeyPressed -> 0\n            isRightKeyPressed                     -> 1\n            isLeftKeyPressed                      -> -1\n            else                                  -> 0\n        }\n\n        val dy: Int = when {\n            isUpKeyPressed == isDownKeyPressed -> 0\n            isDownKeyPressed                   -> 1\n            isUpKeyPressed                     -> -1\n            else                               -> 0\n        }\n\n        when {\n            dx ==  0 && dy ==  0 -> speed = null\n            dx ==  0 && dy == -1 -> speed = speedVectorUp\n            dx ==  1 && dy == -1 -> speed = speedVectorUpRight\n            dx ==  1 && dy ==  0 -> speed = speedVectorRight\n            dx ==  1 && dy ==  1 -> speed = speedVectorDownRight\n            dx ==  0 && dy ==  1 -> speed = speedVectorDown\n            dx == -1 && dy ==  1 -> speed = speedVectorDownLeft\n            dx == -1 && dy ==  0 -> speed = speedVectorLeft\n            dx == -1 && dy == -1 -> speed = speedVectorUpLeft\n        }\n\n    }\n\n    override fun onClick(me: MouseEvent) {\n        imagesDrawer.nextImage()\n    }\n\n    override fun move() {\n        if (speed != null) {\n            p += speed!!\n            if (p.x > bounds.x) p.x = bounds.x else if (p.x < 0.0) p.x = 0.0\n            if (p.y > bounds.y) p.y = bounds.y else if (p.y < 0.0) p.y = 0.0\n        }\n        super.move()\n    }\n\n    override fun act() {\n        if (visibility > 0) {\n            dispatcher.index.objectsOnTheSamePlaceWith(this).forEach {\n                when (it) {\n                    is Ghost -> {\n                        visibility -= 10\n                        dispatcher.delObj(it)\n                    }\n                    is KotlinSign -> {\n                        dispatcher.delObj(it)\n                        visibility = maxVisibility\n                    }\n\n                }\n            }\n        }\n    }\n\n    companion object {\n        val playerImages = loadImages(\"/game/zombie/img/actor<n>.png\", 11)\n\n        private val playerSpeedLen = 5\n\n        private val speedVectorUp        = vUp * playerSpeedLen\n        private val speedVectorUpRight   = vUpRight * playerSpeedLen\n        private val speedVectorRight     = vRight * playerSpeedLen\n        private val speedVectorDownRight = vDownRight * playerSpeedLen\n        private val speedVectorDown      = vDown * playerSpeedLen\n        private val speedVectorDownLeft  = vDownLeft * playerSpeedLen\n        private val speedVectorLeft      = vLeft * playerSpeedLen\n        private val speedVectorUpLeft    = vUpLeft * playerSpeedLen\n\n    }\n}\n\n\n","package tga.gaming.games.wiggly_worm.bot\n\nimport tga.gaming.engine.model.Actionable\nimport tga.gaming.engine.model.Obj\nimport tga.gaming.engine.model.Vector\nimport tga.gaming.engine.model.v\nimport tga.gaming.games.wiggly_worm.worms.Worm\nimport kotlin.math.PI\nimport kotlin.random.Random\n\nclass WormBot(\n    val worm: Worm\n): Obj(frame = null, r = 0.0), Actionable {\n\n    var targetPoint: Vector = v(1,0)\n\n    val rt = PI/Random.nextDouble(50.0, 150.0).let{\n        if (Random.nextBoolean()) it else -it\n    }\n\n    override fun act() {\n        val currentDirection: Vector = worm.body[0].p - worm.body[1].p\n        val norm = currentDirection.norm(quite = true)\n        val angle = norm.angle()\n        norm.setToAngle(angle + rt)\n        targetPoint.set(worm.body[0].p.x + norm.x, worm.body[0].p.y + norm.y)\n    }\n}","package tga.gaming.games.wiggly_worm.colors\n\nimport tga.gaming.engine.colors.Clr\nimport tga.gaming.engine.colors.multiLinearGradient\n\nobject SnakesPalette {\n    val colors: Array<SnakeColors> = arrayOf(\n        SnakeColors(\n            fillStyles = multiLinearGradient(Clr(60, 129, 121), 10 to Clr(137, 194, 189), 10 to Clr(60, 129, 121)),\n            strokeStyles = multiLinearGradient(Clr(4, 40, 35), 10 to Clr(37, 80, 74), 10 to Clr(4, 40, 35)),\n        ),\n        SnakeColors(\n            fillStyles = multiLinearGradient(Clr(110, 21, 154), 10 to Clr(163, 107, 190), 10 to Clr(110, 21, 154)),\n            strokeStyles = multiLinearGradient(Clr(30, 3, 44), 10 to Clr(64, 38, 77), 10 to Clr(30, 3, 44)),\n        ),\n        SnakeColors(\n            fillStyles = multiLinearGradient(Clr(255, 255, 0), 10 to Clr(255, 255, 200), 10 to Clr(255, 255, 0)),\n            strokeStyles = multiLinearGradient(Clr(56, 56, 0), 10 to Clr(87,87,36), 10 to Clr(56, 56, 0)),\n        ),\n            SnakeColors(\n                fillStyles = multiLinearGradient(Clr(161,6,17), 10 to Clr(203,98,174), 10 to Clr(161,6,17)),\n                strokeStyles = multiLinearGradient(Clr(49,1,35), 10 to Clr(79,33,66), 10 to Clr(49,1,35)),\n            ),\n    )\n\n}\n\ndata class SnakeColors(\n    val fillStyles: Array<String>,\n    val strokeStyles: Array<String>,\n)","package tga.gaming.games.wiggly_worm.objects\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport tga.gaming.engine.GameWord\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.model.Drawable\nimport tga.gaming.engine.model.Obj\n\nclass CirclesBackground(\n    game: GameWord\n): Obj(), Drawable {\n\n    val size = game.wordSize\n    val center = size / 2\n    override val isAlwaysVisible = true\n\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n\n        ctx.lineWidth = 1.0\n        ctx.strokeStyle = \"#204041FF\"\n\n        var radiusInc = 30.0\n        var radius = 10.0\n        var n = 0\n\n        while (radius < center.len) {\n            //radiusInc += 5\n            ctx.beginPath()\n            ctx.arc(center.x, center.y, radius, 0.0, PI2)\n            ctx.stroke()\n            n++\n            radius += radiusInc\n            radiusInc += 10\n        }\n\n        ctx.lineWidth=12.0\n        ctx.strokeRect(-5.0, -5.0, size.x+5, size.y+5)\n\n\n    }\n}","package tga.gaming.games.wiggly_worm.objects\n\nimport org.w3c.dom.CanvasRenderingContext2D\nimport tga.gaming.engine.PI2\nimport tga.gaming.engine.model.*\nimport tga.gaming.games.wiggly_worm.wArea\nimport kotlin.math.PI\nimport kotlin.math.sin\nimport kotlin.random.Random\n\nclass Food(\n    p: Vector,\n    r: Double = Random.nextDouble(15.0, 50.0),\n    val electricCharge: Boolean = Random.nextBoolean()\n) : Obj(p = p, r = r), CompositeDrawer, Actionable, Moveable {\n\n    override val drawers = ArrayList<Drawer>(1)\n\n    val speed = v()\n    private val color = colors[Random.nextInt(colors.size)]\n\n    var t: Double = Random.nextDouble(PI/2)\n    private val dt = 0.04\n    private val rk: Double = 0.5 + Random.nextDouble(0.5)\n    private var visibleRadius: Double = r\n\n    override fun act() {\n        t += dt\n        val sint = sin(t)\n        visibleRadius = r + r*rk*sint*sint\n    }\n\n    override fun move() {\n        p += speed\n        if (p.x < wArea.p0.x && speed.x < 0) { speed.x = -speed.x }\n        if (p.x > wArea.p1.x && speed.x > 0) { speed.x = -speed.x }\n\n        if (p.y < wArea.p0.y && speed.y < 0) { speed.y = -speed.y }\n        if (p.y > wArea.p1.y && speed.y > 0) { speed.y = -speed.y }\n    }\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n\n        val grd = ctx.createRadialGradient(p.x, p.y, 0.0, p.x, p.y, visibleRadius)\n        grd.addColorStop(0.0, \"white\")\n        grd.addColorStop(0.4, color)\n        grd.addColorStop(0.95, \"transparent\")\n\n        ctx.beginPath()\n        ctx.arc(p.x, p.y, visibleRadius, 0.0, PI2)\n        ctx.fillStyle = grd\n        ctx.fill()\n\n        super.draw(ctx)\n    }\n\n    companion object {\n        val colors = arrayOf(\n            \"#FFF96CFF\",\n            \"#A7FF7BFF\",\n            \"#8C00FFFF\",\n            \"#FF1F8AFF\",\n            \"#29B4FFFF\",\n            \"#FF5630FF\",\n            \"#FFFA43FF\",\n            \"#0066A4FF\",\n            \"#3B2EFFFF\",\n            \"#7BFF2EFF\",\n        )\n    }\n}\n\n","package tga.gaming.games.wiggly_worm.worms\n\nimport org.w3c.dom.BEVEL\nimport org.w3c.dom.CanvasLineJoin\nimport org.w3c.dom.CanvasRenderingContext2D\nimport org.w3c.dom.Path2D\nimport tga.gaming.engine.*\nimport tga.gaming.engine.model.*\nimport tga.gaming.engine.render.HtmlCanvas2dRenderer\nimport tga.gaming.games.wiggly_worm.WigglyWormGame\nimport tga.gaming.games.wiggly_worm.objects.Food\nimport kotlin.math.PI\nimport kotlin.math.max\nimport kotlin.random.Random\n\nabstract class Worm(\n    p: Vector,\n    private val initialRadius: Double,\n    private var fillStyles: Array<String>,\n    private var strokeStyles: Array<String>,\n    private val electricCharge: Boolean = Random.nextBoolean(),\n    val game: WigglyWormGame\n): Obj(p=p), CompositeDrawer, Moveable, Actionable, CompositeMover {\n\n    var isCurrentPalyer: Boolean = false\n    var onDead: ((Worm) -> Unit)? = null\n\n    override val isAlwaysVisible: Boolean = true\n    override val drawers = ArrayList<Drawer>()\n    override val movers = ArrayList<Mover>()\n\n    private var actionDistance: Double = initialRadius\n    private var actionDistance2: Double = actionDistance*actionDistance\n    override var r: Double = initialRadius\n        set(value) {\n            field = value\n            r2Cache = null\n            desiredBodyLength = calculateWormLength(r)\n            correctFrame()\n        }\n\n    private fun correctFrame() {\n        actionDistance = r * 3\n        actionDistance2 = actionDistance*actionDistance\n        frame?.apply {\n            p0.set(-actionDistance, -actionDistance)\n            p1.set( actionDistance,  actionDistance)\n        }\n    }\n\n    var desiredBodyLength: Int = calculateWormLength(initialRadius); private set\n    val body: MutableList<Body> = ArrayList<Body>(desiredBodyLength).apply {\n        repeat(desiredBodyLength) { add(Body(p.copy(), this@Worm)) }\n    }\n\n    init {\n        correctFrame()\n    }\n\n    private fun eat(food: Food) {\n        val distance = food.p - this.p\n\n        if (distance.len2 < actionDistance2) {\n            val k = when (electricCharge) {\n                food.electricCharge -> 0.05\n                else -> -0.05\n            }\n            food.speed += distance.norm() * k\n        }\n\n        val radiusToEat = (this.r + food.r) - distance.len\n        if (radiusToEat <= 0) return\n\n\n        food.r = distance.len - this.r\n        if (food.r <= 0.0) {\n            food.r = 0.0\n            dispatcher.delObj(food)\n            game.addFood()\n        }\n\n        this.r += radiusToEat * snakeRadiusIncreasePerOneFoodItem\n\n        while (desiredBodyLength > body.size) {\n            increaseWormBodyLength()\n        }\n\n\n        if (isCurrentPalyer) scaleGameView()\n    }\n\n    private fun scaleGameView() {\n        with((game.renderer as HtmlCanvas2dRenderer).camera) {\n            val desiredScale = max(0.5, initialRadius / r)\n            changeScaleTo(desiredScale)\n        }\n    }\n\n    open fun increaseWormBodyLength() {\n        body.add(Body(body.last().p.copy() - v(0.01, 0.01), this))\n    }\n\n    override fun act() {\n        val nearestObjects = dispatcher.index.objectsOnTheSamePlaceWith(this)\n        for (obj in nearestObjects)\n            when (obj) {\n                is Food -> eat(obj)\n                is Body -> if (checkClash(obj)) { clash(); break }\n            }\n    }\n\n    private fun clash() {\n        body.forEach {\n            dispatcher.delObj(it)\n            game.addFood(it.p + Vector.random1() * Random.nextDouble(r, 2*r), isOverFoodAllowed = true )\n        }\n\n        dispatcher.delObj(this)\n        onDead?.invoke(this)\n    }\n\n    private fun checkClash(bodyCeil: Body): Boolean {\n        if (bodyCeil.worm == this) return false\n\n        val touchPoint = p + (p - body[1].p)\n        val distance2 = (bodyCeil.p - touchPoint).len2\n\n        if (distance2 > bodyCeil.r2) return false\n\n        return true\n    }\n\n\n\n    override fun move() {\n        super.move()\n        moveWormBody()\n        body.forEach {\n            dispatcher.index.update(it)\n        }\n    }\n\n    abstract fun moveWormBody()\n\n    override fun draw(ctx: CanvasRenderingContext2D) {\n        drawWarmWithStroke(ctx)\n        drawWarmAsCircles(ctx, strokes = false)\n        drawEyes(ctx)\n        drawPath(ctx)\n        //drawMover(ctx)\n        super.draw(ctx)\n    }\n\n    private fun drawPath(ctx: CanvasRenderingContext2D) {\n        ctx.beginPath()\n        ctx.moveTo(body[0].p.x, body[0].p.y)\n        for (i in 1 until body.size) {\n            ctx.lineTo(body[i].p.x, body[i].p.y)\n        }\n        ctx.lineWidth = 0.5\n        ctx.strokeStyle = strokeStyles[0]\n        ctx.stroke()\n\n    }\n\n    /*\n        private fun drawMover(ctx: CanvasRenderingContext2D) {\n            movers.asSequence()\n                .filter { it is ConstantSpeedMover  }\n                .forEach { (it as ConstantSpeedMover).draw(ctx) }\n        }\n    */\n\n    private fun drawWarmAsCircles(ctx: CanvasRenderingContext2D, strokes: Boolean = true) {\n        ctx.lineWidth = r/12\n\n        for(i in body.size - 1 downTo 0 ) {\n\n            if (!(game.camera.isInVisibleArea(body[i].p, r))) continue\n\n            ctx.strokeStyle = strokeStyles[i %  strokeStyles.size]\n            ctx.fillStyle = fillStyles[i % fillStyles.size]\n\n            val b = body[i]\n            ctx.beginPath()\n            ctx.arc(\n                x = b.p.x, y = b.p.y, radius = r,\n                startAngle = 0.0,\n                endAngle = PI2\n            )\n            ctx.fill()\n            if (strokes) ctx.stroke()\n        }\n\n    }\n\n    private fun drawEyes(ctx: CanvasRenderingContext2D) {\n\n        val d = (p - body[1].p). let {\n            if (it == ZERO_VECTOR) v(1, 0) else it\n        }\n\n        ctx.lineJoin = CanvasLineJoin.BEVEL\n        ctx.strokeStyle = strokeStyles[0]\n        ctx.lineWidth = 1.5\n\n        val baseAngle = d.norm().angle()\n        val tr1 = r / 4\n        val cX = tr1  * 3\n\n        draw1Eye(ctx, baseAngle,  eyeAngle, tr1, cX)\n        draw1Eye(ctx, baseAngle, eyeAngleMinus, tr1, cX)\n    }\n\n    private fun draw1Eye(ctx: CanvasRenderingContext2D, baseAngle: Double, angle: Double, tr1: Double, cX: Double) {\n        ctx.save()\n        ctx.translate(p.x, p.y)\n        ctx.rotate(baseAngle + angle)\n        ctx.translate(cX, 0.0)\n        ctx.fillStyle = \"white\"\n        ctx.beginPath()\n        ctx.arc(x = 0.0, y = 0.0, radius = tr1, startAngle = 0.0, endAngle = PI2)\n        ctx.fill()\n        ctx.stroke()\n\n\n        ctx.fillStyle = \"black\"\n        val rIn = tr1/2\n        val cIn = tr1/2\n        ctx.beginPath()\n        ctx.rotate(-angle)\n        ctx.translate(cIn, 0.0)\n        ctx.arc(x = 0.0, y = 0.0, radius = rIn, startAngle = 0.0, endAngle = PI2)\n        ctx.fill()\n        ctx.restore()\n    }\n\n    private fun drawWarmWithStroke(ctx: CanvasRenderingContext2D) {\n        ctx.lineWidth = r/3\n        ctx.lineJoin = CanvasLineJoin.BEVEL\n\n        val path = Path2D()\n\n        ctx.beginPath()\n        val centerFirst = body[0].p\n        val centerSecond = body[1].p\n        val angleSecondToFirst = (centerFirst - centerSecond).norm().angle()\n        val aStartFirst = - pi2_3 + angleSecondToFirst\n        val aFinishFirst = pi2_3 + angleSecondToFirst\n\n        // head\n        path.arc(\n            x = centerFirst.x, y = centerFirst.y, radius = r,\n            startAngle = aStartFirst,\n            endAngle = aFinishFirst,\n        )\n\n        // top line\n        var aOldEnd = aFinishFirst\n        for(i in 1 until body.size-1) {\n            val center = body[i].p\n            val nexCenter = body[i+1].p\n\n            val aStart = aOldEnd -pi_3\n\n            val vec = (center - nexCenter).norm()\n            val aEnd =  pi2_3 + vec.angle()\n\n            path.arc(x = center.x, y = center.y, radius = r, startAngle = aStart, endAngle = aEnd)\n            aOldEnd = aEnd\n        }\n\n        // tail\n        val centerLast = body[body.size-1].p\n        val aStartLast = aOldEnd - pi_3\n        val aFinishLast = aStartLast + pi4_3\n        path.arc(\n            x = centerLast.x, y = centerLast.y, radius = r,\n            startAngle = aStartLast,\n            endAngle = aFinishLast,\n        )\n\n        // bottom line\n        aOldEnd = aFinishLast\n        for(i in body.size-2 downTo 1 ) {\n            val center = body[i].p\n            val prevCenter = body[i-1].p\n\n\n            val aStart = aOldEnd - pi_3\n\n            val vec = (prevCenter-center).norm()\n            val a = vec.angle()\n            val aEnd = pi5_3 + a\n\n            path.arc(x = center.x, y = center.y, radius = r, startAngle = aStart, endAngle = aEnd)\n            aOldEnd = aEnd\n        }\n\n        ctx.strokeStyle = strokeStyles[strokeStyles.size/2]\n\n        //ctx.strokeStyle = \"#D8B08C\"\n        ctx.fillStyle = \"#0F6466\"\n        //ctx.fill(path)\n        ctx.stroke(path)\n    }\n\n    companion object {\n        const val eyeAngle = PI / 8\n        const val eyeAngleMinus = -eyeAngle\n        const val snakeRadiusIncreasePerOneFoodItem: Double = 0.003\n\n        private fun calculateWormLength(radius: Double): Int {\n            return (radius * 3).toInt() - 40\n        }\n\n    }\n}\n\n\nclass Body(\n    p: Vector,\n    val worm: Worm\n): Obj(p = p) {\n\n    override var r: Double\n        get() = worm.r\n        set(value) { worm.r = value }\n\n\n    override val r2: Double\n        get() = worm.r2\n}","package tga.gaming.games.wiggly_worm.worms\n\nimport tga.gaming.engine.model.Vector\nimport tga.gaming.engine.model.v\nimport tga.gaming.games.wiggly_worm.WigglyWormGame\n\nclass WormWithFollowBodyMover(\n    p: Vector,\n    initialRadius: Double,\n    fillStyles: Array<String>,\n    strokeStyles: Array<String>,\n    game: WigglyWormGame\n): Worm(p, initialRadius, fillStyles, strokeStyles, game = game) {\n\n    init {\n        setBodyInHorizontalLine()\n    }\n\n    private fun setBodyInHorizontalLine() {\n        var center = p.copy()\n        val offset = v(-r, 0.0)\n\n        for (i in 0 until body.size) {\n            body[i].p.set(center)\n            center = center + offset\n        }\n\n    }\n\n    override fun moveWormBody() {\n        moveWormWithFollowBodyMover()\n    }\n\n    private fun moveWormWithFollowBodyMover() {\n        body[0].p.set(p)\n        var prev = p\n        for (i in 1 until body.size) {\n            val curr = body[i].p\n\n            val offset = prev + (curr-prev).assignLength(r)\n            curr.set(offset)\n\n            prev=curr\n       }\n    }\n\n}",null,null,null,null,"package tga.gaming.engine.index\n\nimport tga.gaming.engine.model.Frame\nimport tga.gaming.engine.model.Obj\nimport tga.gaming.engine.model.Vector\n\ninterface SquareIndex {\n\n    val lines  : Int\n    val columns: Int\n    val maxLinesIndex  : Int\n    val maxColumnsIndex: Int\n    val matrix: Array<Array<MutableSet<Obj>>>\n\n    fun update(objects: Collection<Obj>) {\n        objects.forEach { update(it) }\n    }\n\n    fun update(obj: Obj)\n\n    fun remove(objects: Collection<Obj>) {\n        objects.forEach { remove(it) }\n    }\n\n    fun remove(obj: Obj)\n\n    fun objectsOnTheSamePlaceWith(obj: Obj): Sequence<Obj>\n\n    fun reset()\n\n    fun rangeOf(position: Vector, frame: Frame?): PositionsRange2D?\n    fun rangeOf(x0: Double, y0: Double, x1: Double, y1: Double): PositionsRange2D?\n\n}\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(31);\n"],"names":["root","factory","exports","module","define","amd","this","ctx","window","addEventListener","e","me","pe","ke","dx","dy","c0","c1","r0","n","g0","b0","o0","Clr","rStep","gStep","bStep","oStep","prevEndColor","points","endColor","linearGradient","startColor","part","i","colors","a","ImagesDrawer","imageIndex","images","imagesDrawer","image","path","document","createElement","src","loadImage","except","forEach","body","l","c","lin","line","cell","wordSize","Frame","r","Vector","x","y","normVectorOfAngle","bounds","message","cause","maxSpeed","mover","setTransform","debug","warn","log","text","info","renderLogs","fillText","getContext","width","height","Metric","Pointer","camera","initPos","pointer","v","game","println","screenFrame","gameToRun","Camera","center","halfOfScreenSize","ObjectsDispatcher","ObjectsSquareIndex","size","canvas","innerWidth","innerHeight","appendChild","initCanvas","getElementById","switchGame","MagnifyingGlass","numberOfCircles","Circle","offset","wholeWordSize","generateCircles","GameWord","dsp","p","randomNormVector","speedLength","loadImages","withImagesDrawer","ObjFrameDrawer","Obj","FollowMover","listOf","img","CirclesBackground","CameraMover","worm","ConstantSpeedMover","createWorm","addKeyboardAwsdMover","worm2","addBot","WormWithFollowBodyMover","centerOffset","iColor","WormBot","bot","speed","rotationSpeed","targetFunction","radius","food","distance","k","radiusToEat","scaleGameView","bodyCeil","touchPoint","lineJoin","strokeStyle","lineWidth","d","tr1","draw1Eye","baseAngle","cX","save","translate","rotate","angle","fillStyle","beginPath","arc","fill","stroke","cIn","rIn","restore","Path2D","centerFirst","centerSecond","angleSecondToFirst","aStartFirst","aFinishFirst","aOldEnd","nexCenter","vec","aStart","aEnd","aStartLast","centerLast","aFinishLast","prevCenter","calculateWormLength","Body","correctFrame","initialRadius","fillStyles","strokeStyles","setBodyInHorizontalLine","console","runEventListeners","setInterval","setTimeout","performance","now","clearInterval","keyboardEvent","key","code","toggleDebugUI","o","IndexGrid","toggleGrid","hasCameraVisualizer","CircleDrawer","CameraVisualizer","dit","requestAnimationFrame","obj","moveHorizontally","moveVertically","newScale","centerOfVisibleWord","diagonalVector","padStart","toString","oldPosition","doMove","doAct","removeDeletedObjects","addNewObjects","objs","te","first","last","drawImage","f","rect","p0","p1","moveTo","lineTo","angleX","angleY","prev","curr","forEachExcept","it","PositionsRange2D","emptySequence","positionsRange","asSequence","objects","filter","frame","position","x0","y0","x1","y1","l0","l1","value","target","other","hashCode","calculateLength","desiredLength","quite","another","vector","anotherFrame","percentage","vOffset","restrictWithFrame","updateSpeed","scale","error","renderDebugUI","index","count","strokeText","textBaseline","touches","item","movementProcess","t","st","addingValue","nSecond","tPast","stat","s","initObjects","draw","button","globalAlpha","move","addObjects","isOverFoodAllowed","foodPosition","fp","norm","radiusInc","strokeRect","sint","createRadialGradient","grd","addColorStop","eat","checkClash","clash","drawWarmWithStroke","b","strokes","drawWarmAsCircles","drawEyes","drawPath","moveWormWithFollowBodyMover","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","call"],"sourceRoot":""}